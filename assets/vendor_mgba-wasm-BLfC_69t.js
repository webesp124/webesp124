var qf=(()=>{var vr=import.meta.url;return function(mr={}){var u=mr,gr,Ae;u.ready=new Promise((e,r)=>{gr=e,Ae=r}),u.loadGame=e=>{if(P("loadGame","number",["string"])(e)){const t=e.split(".");t.pop();const n=t.join(".")+".sav";return u.gameName=e,u.saveName=n.replace("/data/games/","/data/saves/"),!0}return!1},u.getSave=()=>i.readFile(u.saveName),u.listRoms=()=>i.readdir("/data/games/"),u.listSaves=()=>i.readdir("/data/saves/"),u.FSInit=()=>new Promise((e,r)=>{i.mkdir("/data"),i.mount(i.filesystems.IDBFS,{},"/data"),i.syncfs(!0,t=>{t&&r(new Error(`Error syncing app data from IndexedDB: ${t}`));try{i.mkdir("/data/saves")}catch{}try{i.mkdir("/data/states")}catch{}try{i.mkdir("/data/games")}catch{}try{i.mkdir("/data/cheats")}catch{}try{i.mkdir("/data/screenshots")}catch{}e()})}),u.FSSync=()=>new Promise((e,r)=>{i.syncfs(t=>{t&&r(new Error(`Error syncing app data to IndexedDB: ${t}`)),e()})}),u.filePaths=()=>({root:"/data",cheatsPath:"/data/cheats",gamePath:"/data/games",savePath:"/data/saves",saveStatePath:"/data/states",screenshotsPath:"/data/screenshots"}),u.uploadSaveOrSaveState=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(n=="sav")a="/data/saves/";else if(n.startsWith("ss"))a="/data/states/";else{console.warn("unrecognized file extension: "+n);return}const o=new FileReader;o.onload=s=>{i.writeFile(a+e.name,new Uint8Array(s.target.result)),r&&r()},o.readAsArrayBuffer(e)},u.uploadRom=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(["gba","gbc","gb","zip","7z"].includes(n))a="/data/games/";else{console.warn("unrecognized file extension: "+n);return}const o=new FileReader;o.onload=s=>{i.writeFile(a+e.name,new Uint8Array(s.target.result)),r&&r()},o.readAsArrayBuffer(e)},u.uploadCheats=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(n=="cheats")a="/data/cheats/";else{console.warn("unrecognized file extension: "+n);return}const o=new FileReader;o.onload=s=>{i.writeFile(a+e.name,new Uint8Array(s.target.result)),r&&r()},o.readAsArrayBuffer(e)};const je=new Map([["a",0],["b",1],["select",2],["start",3],["right",4],["left",5],["up",6],["down",7],["r",8],["l",9]]);u.buttonPress=e=>{P("buttonPress",null,["number"])(je.get(e.toLowerCase()))},u.buttonUnpress=e=>{P("buttonUnpress",null,["number"])(je.get(e.toLowerCase()))},u.bindKey=(e,r)=>{P("bindKey",null,["string","number"])(e,je.get(r.toLowerCase()))},u.pauseGame=()=>{P("pauseGame",null,[])()},u.resumeGame=()=>{P("resumeGame",null,[])()},u.getVolume=()=>P("getVolume","number",[])(),u.setVolume=e=>{P("setVolume",null,["number"])(e)},u.getMainLoopTimingMode=()=>P("getMainLoopTimingMode","number",[])(),u.getMainLoopTimingValue=()=>P("getMainLoopTimingValue","number",[])(),u.setMainLoopTiming=(e,r)=>{P("setMainLoopTiming","number",["number","number"])(e,r)},u.quitGame=()=>{P("quitGame",null,[])()},u.quitMgba=()=>{P("quitMgba",null,[])()},u.quickReload=()=>{P("quickReload",null,[])()},u.toggleInput=e=>{P("setEventEnable",null,["boolean"])(e)},u.screenshot=e=>P("screenshot","boolean",["string"])(e),u.saveState=e=>P("saveState","boolean",["number"])(e),u.loadState=e=>P("loadState","boolean",["number"])(e),u.saveStateSlot=(e,r)=>{var t=P("saveStateSlot","number",["number","number"]);return u.saveStateSlot=(n,a)=>(a===void 0&&(a=63),t(n,a)),u.saveStateSlot(e,r)},u.loadStateSlot=(e,r)=>{var t=P("loadStateSlot","number",["number","number"]);return u.loadStateSlot=(n,a)=>(a===void 0&&(a=61),t(n,a)),u.loadStateSlot(e,r)},u.autoLoadCheats=()=>P("autoLoadCheats","bool",[])(),u.setFastForwardMultiplier=e=>{P("setFastForwardMultiplier",null,["number"])(e)},u.getFastForwardMultiplier=()=>P("getFastForwardMultiplier","number",[])();const re={alarmCallbackPtr:null,coreCrashedCallbackPtr:null,keysReadCallbackPtr:null,saveDataUpdatedCallbackPtr:null,videoFrameEndedCallbackPtr:null,videoFrameStartedCallbackPtr:null};u.addCoreCallbacks=e=>{const r=P("addCoreCallbacks",null,["number"]);Object.keys(re).forEach(t=>{const n=t.replace("CallbackPtr","Callback"),a=e[n];a!==void 0&&re[t]&&(ct(re[t]),re[t]=null),a&&(re[t]=ut(a,"vi"))}),r(re.alarmCallbackPtr,re.coreCrashedCallbackPtr,re.keysReadCallbackPtr,re.saveDataUpdatedCallbackPtr,re.videoFrameEndedCallbackPtr,re.videoFrameStartedCallbackPtr)};var _r=Object.assign({},u),pr="./this.program",qe=(e,r)=>{throw r},pt=!0,ae="";function ht(e){return u.locateFile?u.locateFile(e,ae):ae+e}var He,hr;typeof document<"u"&&document.currentScript&&(ae=document.currentScript.src),vr&&(ae=vr),ae.startsWith("blob:")?ae="":ae=ae.substr(0,ae.replace(/[?#].*/,"").lastIndexOf("/")+1),He=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},hr=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)};var Ve=u.print||console.log.bind(console),ee=u.printErr||console.error.bind(console);Object.assign(u,_r),_r=null,u.arguments&&u.arguments,u.thisProgram&&(pr=u.thisProgram),u.quit&&(qe=u.quit);var ye;u.wasmBinary&&(ye=u.wasmBinary),typeof WebAssembly!="object"&&se("no native wasm support detected");var Fe,me=!1,Ee;function be(e,r){e||se(r)}var q,Y,ie,yr,c,F,C,W;function Er(){var e=Fe.buffer;u.HEAP8=q=new Int8Array(e),u.HEAP16=ie=new Int16Array(e),u.HEAPU8=Y=new Uint8Array(e),u.HEAPU16=yr=new Uint16Array(e),u.HEAP32=c=new Int32Array(e),u.HEAPU32=F=new Uint32Array(e),u.HEAPF32=C=new Float32Array(e),u.HEAPF64=W=new Float64Array(e)}var br=[],wr=[],yt=[],kr=[];function Et(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)St(u.preRun.shift());Te(br)}function bt(){!u.noFSInit&&!i.init.initialized&&i.init(),i.ignorePermissions=!1,Te(wr)}function wt(){Te(yt)}function kt(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)xt(u.postRun.shift());Te(kr)}function St(e){br.unshift(e)}function Ct(e){wr.unshift(e)}function xt(e){kr.unshift(e)}var ue=0,we=null;function jf(e){return e}function We(e){var r;ue++,(r=u.monitorRunDependencies)==null||r.call(u,ue)}function De(e){var t;if(ue--,(t=u.monitorRunDependencies)==null||t.call(u,ue),ue==0&&we){var r=we;we=null,r()}}function se(e){var t;(t=u.onAbort)==null||t.call(u,e),e="Aborted("+e+")",ee(e),me=!0,Ee=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw Ae(r),r}var Lt="data:application/octet-stream;base64,",Sr=e=>e.startsWith(Lt),ce;u.locateFile?(ce="mgba.wasm",Sr(ce)||(ce=ht(ce))):ce=new URL(""+new URL("mgba-DRRjgPTs.wasm",import.meta.url).href,import.meta.url).href;function Cr(e){if(e==ce&&ye)return new Uint8Array(ye);throw"both async and sync fetching of the wasm failed"}function At(e){return!ye&&pt&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at '${e}'`;return r.arrayBuffer()}).catch(()=>Cr(e)):Promise.resolve().then(()=>Cr(e))}function xr(e,r,t){return At(e).then(n=>WebAssembly.instantiate(n,r)).then(n=>n).then(t,n=>{ee(`failed to asynchronously prepare wasm: ${n}`),se(n)})}function Ft(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Sr(r)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(a=>{var o=WebAssembly.instantiateStreaming(a,t);return o.then(n,function(s){return ee(`wasm streaming compile failed: ${s}`),ee("falling back to ArrayBuffer instantiation"),xr(r,t,n)})}):xr(r,t,n)}function Dt(){var e={a:Ff};function r(n,a){return A=n.exports,Fe=A._d,Er(),fe=A.Ae,Ct(A.$d),De(),A}We();function t(n){r(n.instance)}if(u.instantiateWasm)try{return u.instantiateWasm(e,r)}catch(n){ee(`Module.instantiateWasm callback failed with error: ${n}`),Ae(n)}return Ft(ye,ce,e,t).catch(Ae),{}}var S,M,Lr={272368:(e,r)=>{u.canvas.width=e,u.canvas.height=r},272425:(e,r,t,n,a,o,s)=>{u.version={gitCommit:V(e),gitShort:V(r),gitBranch:V(t),gitRevision:n,binaryName:V(a),projectName:V(o),projectVersion:V(s)}},272657:()=>{i.syncfs(function(e){be(!e)})},272701:()=>typeof AudioContext<"u"?!0:typeof webkitAudioContext<"u",272848:()=>typeof navigator.mediaDevices<"u"&&typeof navigator.mediaDevices.getUserMedia<"u"?!0:typeof navigator.webkitGetUserMedia<"u",273082:e=>{typeof u.SDL2>"u"&&(u.SDL2={});var r=u.SDL2;return e?r.capture={}:r.audio={},r.audioContext||(typeof AudioContext<"u"?r.audioContext=new AudioContext:typeof webkitAudioContext<"u"&&(r.audioContext=new webkitAudioContext),r.audioContext&&Pt(r.audioContext)),r.audioContext===void 0?-1:0},273575:()=>{var e=u.SDL2;return e.audioContext.sampleRate},273643:(e,r,t,n)=>{var a=u.SDL2,o=function(f){a.capture.silenceTimer!==void 0&&(clearTimeout(a.capture.silenceTimer),a.capture.silenceTimer=void 0),a.capture.mediaStreamNode=a.audioContext.createMediaStreamSource(f),a.capture.scriptProcessorNode=a.audioContext.createScriptProcessor(r,e,1),a.capture.scriptProcessorNode.onaudioprocess=function(d){a===void 0||a.capture===void 0||(d.outputBuffer.getChannelData(0).fill(0),a.capture.currentCaptureBuffer=d.inputBuffer,Xe("vi",t,[n]))},a.capture.mediaStreamNode.connect(a.capture.scriptProcessorNode),a.capture.scriptProcessorNode.connect(a.audioContext.destination),a.capture.stream=f},s=function(f){};a.capture.silenceBuffer=a.audioContext.createBuffer(e,r,a.audioContext.sampleRate),a.capture.silenceBuffer.getChannelData(0).fill(0);var l=function(){a.capture.currentCaptureBuffer=a.capture.silenceBuffer,Xe("vi",t,[n])};a.capture.silenceTimer=setTimeout(l,r/a.audioContext.sampleRate*1e3),navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(o).catch(s):navigator.webkitGetUserMedia!==void 0&&navigator.webkitGetUserMedia({audio:!0,video:!1},o,s)},275295:(e,r,t,n)=>{var a=u.SDL2;a.audio.scriptProcessorNode=a.audioContext.createScriptProcessor(r,0,e),a.audio.scriptProcessorNode.onaudioprocess=function(o){a===void 0||a.audio===void 0||(a.audio.currentOutputBuffer=o.outputBuffer,Xe("vi",t,[n]))},a.audio.scriptProcessorNode.connect(a.audioContext.destination)},275705:(e,r)=>{for(var t=u.SDL2,n=t.capture.currentCaptureBuffer.numberOfChannels,a=0;a<n;++a){var o=t.capture.currentCaptureBuffer.getChannelData(a);if(o.length!=r)throw"Web Audio capture buffer length mismatch! Destination size: "+o.length+" samples vs expected "+r+" samples!";if(n==1)for(var s=0;s<r;++s)Fr(e+s*4,o[s],"float");else for(var s=0;s<r;++s)Fr(e+(s*n+a)*4,o[s],"float")}},276310:(e,r)=>{for(var t=u.SDL2,n=t.audio.currentOutputBuffer.numberOfChannels,a=0;a<n;++a){var o=t.audio.currentOutputBuffer.getChannelData(a);if(o.length!=r)throw"Web Audio output buffer length mismatch! Destination size: "+o.length+" samples vs expected "+r+" samples!";for(var s=0;s<r;++s)o[s]=C[e+(s*n+a<<2)>>2]}},276790:e=>{var r=u.SDL2;if(e){if(r.capture.silenceTimer!==void 0&&clearTimeout(r.capture.silenceTimer),r.capture.stream!==void 0){for(var t=r.capture.stream.getAudioTracks(),n=0;n<t.length;n++)r.capture.stream.removeTrack(t[n]);r.capture.stream=void 0}r.capture.scriptProcessorNode!==void 0&&(r.capture.scriptProcessorNode.onaudioprocess=function(a){},r.capture.scriptProcessorNode.disconnect(),r.capture.scriptProcessorNode=void 0),r.capture.mediaStreamNode!==void 0&&(r.capture.mediaStreamNode.disconnect(),r.capture.mediaStreamNode=void 0),r.capture.silenceBuffer!==void 0&&(r.capture.silenceBuffer=void 0),r.capture=void 0}else r.audio.scriptProcessorNode!=null&&(r.audio.scriptProcessorNode.disconnect(),r.audio.scriptProcessorNode=void 0),r.audio=void 0;r.audioContext!==void 0&&r.audio===void 0&&r.capture===void 0&&(r.audioContext.close(),r.audioContext=void 0)},277962:(e,r,t)=>{var n=e,a=r,o=t;u.SDL2||(u.SDL2={});var s=u.SDL2;s.ctxCanvas!==u.canvas&&(s.ctx=u.createContext(u.canvas,!1,!0),s.ctxCanvas=u.canvas),(s.w!==n||s.h!==a||s.imageCtx!==s.ctx)&&(s.image=s.ctx.createImageData(n,a),s.w=n,s.h=a,s.imageCtx=s.ctx);var l=s.image.data,f=o>>2,d=0,m;if(typeof CanvasPixelArray<"u"&&l instanceof CanvasPixelArray)for(m=l.length;d<m;){var p=c[f];l[d]=p&255,l[d+1]=p>>8&255,l[d+2]=p>>16&255,l[d+3]=255,f++,d+=4}else{s.data32Data!==l&&(s.data32=new Int32Array(l.buffer),s.data8=new Uint8Array(l.buffer),s.data32Data=l);var b=s.data32;m=b.length,b.set(c.subarray(f,f+m));var h=s.data8,E=3,k=E+4*m;if(m%8==0)for(;E<k;)h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0,h[E]=255,E=E+4|0;else for(;E<k;)h[E]=255,E=E+4|0}s.ctx.putImageData(s.image,0,0)},279431:(e,r,t,n,a)=>{var o=e,s=r,l=t,f=n,d=a,m=document.createElement("canvas");m.width=o,m.height=s;var p=m.getContext("2d"),b=p.createImageData(o,s),h=b.data,E=d>>2,k=0,I;if(typeof CanvasPixelArray<"u"&&h instanceof CanvasPixelArray)for(I=h.length;k<I;){var B=c[E];h[k]=B&255,h[k+1]=B>>8&255,h[k+2]=B>>16&255,h[k+3]=B>>24&255,E++,k+=4}else{var j=new Int32Array(h.buffer);I=j.length,j.set(c.subarray(E,E+I))}p.putImageData(b,0,0);var U=l===0&&f===0?"url("+m.toDataURL()+"), auto":"url("+m.toDataURL()+") "+l+" "+f+", auto",N=$(U.length+1);return G(U,N,U.length+1),N},280420:e=>{u.canvas&&(u.canvas.style.cursor=V(e))},280503:()=>{u.canvas&&(u.canvas.style.cursor="none")},280572:()=>window.innerWidth,280602:()=>window.innerHeight};function Ar(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Tt=(e,r,t)=>{e.addEventListener(r,t,{once:!0})},Pt=(e,r)=>{r||(r=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach(t=>{r.forEach(n=>{n&&Tt(n,t,()=>{e.state==="suspended"&&e.resume()})})})},Te=e=>{for(;e.length>0;)e.shift()(u)},Mt=(e,r,t)=>{var n=u["dynCall_"+e];return t&&t.length?n.apply(null,[r].concat(t)):n.call(null,r)},ke=[],fe,T=e=>{var r=ke[e];return r||(e>=ke.length&&(ke.length=e+1),ke[e]=r=fe.get(e)),r},Xe=(e,r,t)=>{if(e.includes("j"))return Mt(e,r,t);var n=T(r).apply(null,t);return n},Rt=u.noExitRuntime||!0;function Fr(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":q[e>>0]=r;break;case"i8":q[e>>0]=r;break;case"i16":ie[e>>1]=r;break;case"i32":c[e>>2]=r;break;case"i64":se("to do setValue(i64) use WASM_BIGINT");case"float":C[e>>2]=r;break;case"double":W[e>>3]=r;break;case"*":F[e>>2]=r;break;default:se(`invalid type for setValue: ${t}`)}}var D={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=D.isAbs(e),t=e.substr(-1)==="/";return e=D.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=D.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=D.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return D.normalize(e.join("/"))},join2:(e,r)=>D.normalize(e+"/"+r)},Bt=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);se("initRandomDevice")},Dr=e=>(Dr=Bt())(e),oe={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:i.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=D.isAbs(n)}return e=D.normalizeArray(e.split("/").filter(a=>!!a),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=oe.resolve(e).substr(1),r=oe.resolve(r).substr(1);function t(d){for(var m=0;m<d.length&&d[m]==="";m++);for(var p=d.length-1;p>=0&&d[p]==="";p--);return m>p?[]:d.slice(m,p-m+1)}for(var n=t(e.split("/")),a=t(r.split("/")),o=Math.min(n.length,a.length),s=o,l=0;l<o;l++)if(n[l]!==a[l]){s=l;break}for(var f=[],l=s;l<n.length;l++)f.push("..");return f=f.concat(a.slice(s)),f.join("/")}},Tr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ge=(e,r,t)=>{for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;if(a-r>16&&e.buffer&&Tr)return Tr.decode(e.subarray(r,a));for(var o="";r<a;){var s=e[r++];if(!(s&128)){o+=String.fromCharCode(s);continue}var l=e[r++]&63;if((s&224)==192){o+=String.fromCharCode((s&31)<<6|l);continue}var f=e[r++]&63;if((s&240)==224?s=(s&15)<<12|l<<6|f:s=(s&7)<<18|l<<12|f<<6|e[r++]&63,s<65536)o+=String.fromCharCode(s);else{var d=s-65536;o+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return o},Ye=[],_e=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Qe=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,o=t+n-1,s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l>=55296&&l<=57343){var f=e.charCodeAt(++s);l=65536+((l&1023)<<10)|f&1023}if(l<=127){if(t>=o)break;r[t++]=l}else if(l<=2047){if(t+1>=o)break;r[t++]=192|l>>6,r[t++]=128|l&63}else if(l<=65535){if(t+2>=o)break;r[t++]=224|l>>12,r[t++]=128|l>>6&63,r[t++]=128|l&63}else{if(t+3>=o)break;r[t++]=240|l>>18,r[t++]=128|l>>12&63,r[t++]=128|l>>6&63,r[t++]=128|l&63}}return r[t]=0,t-a};function $e(e,r,t){var n=_e(e)+1,a=new Array(n),o=Qe(e,a,0,a.length);return a.length=o,a}var Gt=()=>{if(!Ye.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;Ye=$e(e)}return Ye.shift()},de={ttys:[],init(){},shutdown(){},register(e,r){de.ttys[e]={input:[],output:[],ops:r},i.registerDevice(e,de.stream_ops)},stream_ops:{open(e){var r=de.ttys[e.node.rdev];if(!r)throw new i.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new i.ErrnoError(60);for(var o=0,s=0;s<n;s++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new i.ErrnoError(29)}if(l===void 0&&o===0)throw new i.ErrnoError(6);if(l==null)break;o++,r[t+s]=l}return o&&(e.node.timestamp=Date.now()),o},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,r[t+o])}catch{throw new i.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char(e){return Gt()},put_char(e,r){r===null||r===10?(Ve(ge(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(Ve(ge(e.output,0)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(ee(ge(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(ee(ge(e.output,0)),e.output=[])}}},It=(e,r)=>(Y.fill(0,e,e+r),e),Ut=(e,r)=>Math.ceil(e/r)*r,Pr=e=>{e=Ut(e,65536);var r=mt(65536,e);return r?It(r,e):0},L={ops_table:null,mount(e){return L.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(i.isBlkdev(t)||i.isFIFO(t))throw new i.ErrnoError(63);L.ops_table||(L.ops_table={dir:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr,lookup:L.node_ops.lookup,mknod:L.node_ops.mknod,rename:L.node_ops.rename,unlink:L.node_ops.unlink,rmdir:L.node_ops.rmdir,readdir:L.node_ops.readdir,symlink:L.node_ops.symlink},stream:{llseek:L.stream_ops.llseek}},file:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr},stream:{llseek:L.stream_ops.llseek,read:L.stream_ops.read,write:L.stream_ops.write,allocate:L.stream_ops.allocate,mmap:L.stream_ops.mmap,msync:L.stream_ops.msync}},link:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr,readlink:L.node_ops.readlink},stream:{}},chrdev:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr},stream:i.chrdev_stream_ops}});var a=i.createNode(e,r,t,n);return i.isDir(a.mode)?(a.node_ops=L.ops_table.dir.node,a.stream_ops=L.ops_table.dir.stream,a.contents={}):i.isFile(a.mode)?(a.node_ops=L.ops_table.file.node,a.stream_ops=L.ops_table.file.stream,a.usedBytes=0,a.contents=null):i.isLink(a.mode)?(a.node_ops=L.ops_table.link.node,a.stream_ops=L.ops_table.link.stream):i.isChrdev(a.mode)&&(a.node_ops=L.ops_table.chrdev.node,a.stream_ops=L.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[r]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var a=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=i.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,i.isDir(e.mode)?r.size=4096:i.isFile(e.mode)?r.size=e.usedBytes:i.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&L.resizeFileStorage(e,r.size)},lookup(e,r){throw i.genericErrors[44]},mknod(e,r,t,n){return L.createNode(e,r,t,n)},rename(e,r,t){if(i.isDir(e.mode)){var n;try{n=i.lookupNode(r,t)}catch{}if(n)for(var a in n.contents)throw new i.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir(e,r){var t=i.lookupNode(e,r);for(var n in t.contents)throw new i.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir(e){var r=[".",".."];for(var t of Object.keys(e.contents))r.push(t);return r},symlink(e,r,t){var n=L.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!i.isLink(e.mode))throw new i.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,n);if(s>8&&o.subarray)r.set(o.subarray(a,a+s),t);else for(var l=0;l<s;l++)r[t+l]=o[a+l];return s},write(e,r,t,n,a,o){if(r.buffer===q.buffer&&(o=!1),!n)return 0;var s=e.node;if(s.timestamp=Date.now(),r.subarray&&(!s.contents||s.contents.subarray)){if(o)return s.contents=r.subarray(t,t+n),s.usedBytes=n,n;if(s.usedBytes===0&&a===0)return s.contents=r.slice(t,t+n),s.usedBytes=n,n;if(a+n<=s.usedBytes)return s.contents.set(r.subarray(t,t+n),a),n}if(L.expandFileStorage(s,a+n),s.contents.subarray&&r.subarray)s.contents.set(r.subarray(t,t+n),a);else for(var l=0;l<n;l++)s.contents[a+l]=r[t+l];return s.usedBytes=Math.max(s.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&i.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},allocate(e,r,t){L.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,a){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);var o,s,l=e.node.contents;if(!(a&2)&&l.buffer===q.buffer)s=!1,o=l.byteOffset;else{if((t>0||t+r<l.length)&&(l.subarray?l=l.subarray(t,t+r):l=Array.prototype.slice.call(l,t,t+r)),s=!0,o=Pr(r),!o)throw new i.ErrnoError(48);q.set(l,o)}return{ptr:o,allocated:s}},msync(e,r,t,n,a){return L.stream_ops.write(e,r,0,n,t,!1),0}}},Nt=(e,r,t,n)=>{var a=`al ${e}`;hr(e,o=>{r(new Uint8Array(o)),a&&De()},o=>{if(t)t();else throw`Loading data file "${e}" failed.`}),a&&We()},Ot=(e,r,t,n,a,o)=>{i.createDataFile(e,r,t,n,a,o)},Ke=u.preloadPlugins||[],zt=(e,r,t,n)=>{typeof g<"u"&&g.init();var a=!1;return Ke.forEach(o=>{a||o.canHandle(r)&&(o.handle(e,r,t,n),a=!0)}),a},jt=(e,r,t,n,a,o,s,l,f,d)=>{var m=r?oe.resolve(D.join2(e,r)):e;function p(b){function h(E){d==null||d(),l||Ot(e,r,E,n,a,f),o==null||o(),De()}zt(b,m,h,()=>{s==null||s(),De()})||h(b)}We(),typeof t=="string"?Nt(t,p,s):p(t)},qt=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},Je=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},R={dbs:{},indexedDB:()=>{if(typeof indexedDB<"u")return indexedDB;var e=null;return typeof window=="object"&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),be(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return L.mount.apply(null,arguments)},syncfs:(e,r,t)=>{R.getLocalSet(e,(n,a)=>{if(n)return t(n);R.getRemoteSet(e,(o,s)=>{if(o)return t(o);var l=r?s:a,f=r?a:s;R.reconcile(l,f,t)})})},quit:()=>{Object.values(R.dbs).forEach(e=>e.close()),R.dbs={}},getDB:(e,r)=>{var t=R.dbs[e];if(t)return r(null,t);var n;try{n=R.indexedDB().open(e,R.DB_VERSION)}catch(a){return r(a)}if(!n)return r("Unable to connect to IndexedDB");n.onupgradeneeded=a=>{var o=a.target.result,s=a.target.transaction,l;o.objectStoreNames.contains(R.DB_STORE_NAME)?l=s.objectStore(R.DB_STORE_NAME):l=o.createObjectStore(R.DB_STORE_NAME),l.indexNames.contains("timestamp")||l.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=()=>{t=n.result,R.dbs[e]=t,r(null,t)},n.onerror=a=>{r(a.target.error),a.preventDefault()}},getLocalSet:(e,r)=>{var t={};function n(f){return f!=="."&&f!==".."}function a(f){return d=>D.join2(f,d)}for(var o=i.readdir(e.mountpoint).filter(n).map(a(e.mountpoint));o.length;){var s=o.pop(),l;try{l=i.stat(s)}catch(f){return r(f)}i.isDir(l.mode)&&o.push.apply(o,i.readdir(s).filter(n).map(a(s))),t[s]={timestamp:l.mtime}}return r(null,{type:"local",entries:t})},getRemoteSet:(e,r)=>{var t={};R.getDB(e.mountpoint,(n,a)=>{if(n)return r(n);try{var o=a.transaction([R.DB_STORE_NAME],"readonly");o.onerror=f=>{r(f.target.error),f.preventDefault()};var s=o.objectStore(R.DB_STORE_NAME),l=s.index("timestamp");l.openKeyCursor().onsuccess=f=>{var d=f.target.result;if(!d)return r(null,{type:"remote",db:a,entries:t});t[d.primaryKey]={timestamp:d.key},d.continue()}}catch(f){return r(f)}})},loadLocalEntry:(e,r)=>{var t,n;try{var a=i.lookupPath(e);n=a.node,t=i.stat(e)}catch(o){return r(o)}return i.isDir(t.mode)?r(null,{timestamp:t.mtime,mode:t.mode}):i.isFile(t.mode)?(n.contents=L.getFileDataAsTypedArray(n),r(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})):r(new Error("node type not supported"))},storeLocalEntry:(e,r,t)=>{try{if(i.isDir(r.mode))i.mkdirTree(e,r.mode);else if(i.isFile(r.mode))i.writeFile(e,r.contents,{canOwn:!0});else return t(new Error("node type not supported"));i.chmod(e,r.mode),i.utime(e,r.timestamp,r.timestamp)}catch(n){return t(n)}t(null)},removeLocalEntry:(e,r)=>{try{var t=i.stat(e);i.isDir(t.mode)?i.rmdir(e):i.isFile(t.mode)&&i.unlink(e)}catch(n){return r(n)}r(null)},loadRemoteEntry:(e,r,t)=>{var n=e.get(r);n.onsuccess=a=>t(null,a.target.result),n.onerror=a=>{t(a.target.error),a.preventDefault()}},storeRemoteEntry:(e,r,t,n)=>{try{var a=e.put(t,r)}catch(o){n(o);return}a.onsuccess=o=>n(),a.onerror=o=>{n(o.target.error),o.preventDefault()}},removeRemoteEntry:(e,r,t)=>{var n=e.delete(r);n.onsuccess=a=>t(),n.onerror=a=>{t(a.target.error),a.preventDefault()}},reconcile:(e,r,t)=>{var n=0,a=[];Object.keys(e.entries).forEach(function(p){var b=e.entries[p],h=r.entries[p];(!h||b.timestamp.getTime()!=h.timestamp.getTime())&&(a.push(p),n++)});var o=[];if(Object.keys(r.entries).forEach(function(p){e.entries[p]||(o.push(p),n++)}),!n)return t(null);var s=!1,l=e.type==="remote"?e.db:r.db,f=l.transaction([R.DB_STORE_NAME],"readwrite"),d=f.objectStore(R.DB_STORE_NAME);function m(p){if(p&&!s)return s=!0,t(p)}f.onerror=p=>{m(this.error),p.preventDefault()},f.oncomplete=p=>{s||t(null)},a.sort().forEach(p=>{r.type==="local"?R.loadRemoteEntry(d,p,(b,h)=>{if(b)return m(b);R.storeLocalEntry(p,h,m)}):R.loadLocalEntry(p,(b,h)=>{if(b)return m(b);R.storeRemoteEntry(d,p,h,m)})}),o.sort().reverse().forEach(p=>{r.type==="local"?R.removeLocalEntry(p,m):R.removeRemoteEntry(d,p,m)})}},i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(e,r={}){if(e=oe.resolve(e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new i.ErrnoError(32);for(var n=e.split("/").filter(p=>!!p),a=i.root,o="/",s=0;s<n.length;s++){var l=s===n.length-1;if(l&&r.parent)break;if(a=i.lookupNode(a,n[s]),o=D.join2(o,n[s]),i.isMountpoint(a)&&(!l||l&&r.follow_mount)&&(a=a.mounted.root),!l||r.follow)for(var f=0;i.isLink(a.mode);){var d=i.readlink(o);o=oe.resolve(D.dirname(o),d);var m=i.lookupPath(o,{recurse_count:r.recurse_count+1});if(a=m.node,f++>40)throw new i.ErrnoError(32)}}return{path:o,node:a}},getPath(e){for(var r;;){if(i.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%i.nameTable.length},hashAddNode(e){var r=i.hashName(e.parent.id,e.name);e.name_next=i.nameTable[r],i.nameTable[r]=e},hashRemoveNode(e){var r=i.hashName(e.parent.id,e.name);if(i.nameTable[r]===e)i.nameTable[r]=e.name_next;else for(var t=i.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=i.mayLookup(e);if(t)throw new i.ErrnoError(t);for(var n=i.hashName(e.id,r),a=i.nameTable[n];a;a=a.name_next){var o=a.name;if(a.parent.id===e.id&&o===r)return a}return i.lookup(e,r)},createNode(e,r,t,n){var a=new i.FSNode(e,r,t,n);return i.hashAddNode(a),a},destroyNode(e){i.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return i.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!i.isDir(e.mode))return 54;var r=i.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){try{var t=i.lookupNode(e,r);return 20}catch{}return i.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=i.lookupNode(e,r)}catch(o){return o.errno}var a=i.nodePermissions(e,"wx");if(a)return a;if(t){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?i.isLink(e.mode)?32:i.isDir(e.mode)&&(i.flagsToPermissionString(r)!=="r"||r&512)?31:i.nodePermissions(e,i.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=i.MAX_OPEN_FDS;e++)if(!i.streams[e])return e;throw new i.ErrnoError(33)},getStreamChecked(e){var r=i.getStream(e);if(!r)throw new i.ErrnoError(8);return r},getStream:e=>i.streams[e],createStream(e,r=-1){return i.FSStream||(i.FSStream=function(){this.shared={}},i.FSStream.prototype={},Object.defineProperties(i.FSStream.prototype,{object:{get(){return this.node},set(t){this.node=t}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(t){this.shared.flags=t}},position:{get(){return this.shared.position},set(t){this.shared.position=t}}})),e=Object.assign(new i.FSStream,e),r==-1&&(r=i.nextfd()),e.fd=r,i.streams[r]=e,e},closeStream(e){i.streams[e]=null},chrdev_stream_ops:{open(e){var t,n;var r=i.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,(n=(t=e.stream_ops).open)==null||n.call(t,e)},llseek(){throw new i.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){i.devices[e]={stream_ops:r}},getDevice:e=>i.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),i.syncFSRequests++,i.syncFSRequests>1&&ee(`warning: ${i.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=i.getMounts(i.root.mount),n=0;function a(s){return i.syncFSRequests--,r(s)}function o(s){if(s)return o.errored?void 0:(o.errored=!0,a(s));++n>=t.length&&a(null)}t.forEach(s=>{if(!s.type.syncfs)return o(null);s.type.syncfs(s,e,o)})},mount(e,r,t){var n=t==="/",a=!t,o;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!a){var s=i.lookupPath(t,{follow_mount:!1});if(t=s.path,o=s.node,i.isMountpoint(o))throw new i.ErrnoError(10);if(!i.isDir(o.mode))throw new i.ErrnoError(54)}var l={type:e,opts:r,mountpoint:t,mounts:[]},f=e.mount(l);return f.mount=l,l.root=f,n?i.root=f:o&&(o.mounted=l,o.mount&&o.mount.mounts.push(l)),f},unmount(e){var r=i.lookupPath(e,{follow_mount:!1});if(!i.isMountpoint(r.node))throw new i.ErrnoError(28);var t=r.node,n=t.mounted,a=i.getMounts(n);Object.keys(i.nameTable).forEach(s=>{for(var l=i.nameTable[s];l;){var f=l.name_next;a.includes(l.mount)&&i.destroyNode(l),l=f}}),t.mounted=null;var o=t.mount.mounts.indexOf(n);t.mount.mounts.splice(o,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=i.lookupPath(e,{parent:!0}),a=n.node,o=D.basename(e);if(!o||o==="."||o==="..")throw new i.ErrnoError(28);var s=i.mayCreate(a,o);if(s)throw new i.ErrnoError(s);if(!a.node_ops.mknod)throw new i.ErrnoError(63);return a.node_ops.mknod(a,o,r,t)},create(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,i.mknod(e,r,0)},mkdir(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,i.mknod(e,r,0)},mkdirTree(e,r){for(var t=e.split("/"),n="",a=0;a<t.length;++a)if(t[a]){n+="/"+t[a];try{i.mkdir(n,r)}catch(o){if(o.errno!=20)throw o}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,i.mknod(e,r,t)},symlink(e,r){if(!oe.resolve(e))throw new i.ErrnoError(44);var t=i.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new i.ErrnoError(44);var a=D.basename(r),o=i.mayCreate(n,a);if(o)throw new i.ErrnoError(o);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,a,e)},rename(e,r){var t=D.dirname(e),n=D.dirname(r),a=D.basename(e),o=D.basename(r),s,l,f;if(s=i.lookupPath(e,{parent:!0}),l=s.node,s=i.lookupPath(r,{parent:!0}),f=s.node,!l||!f)throw new i.ErrnoError(44);if(l.mount!==f.mount)throw new i.ErrnoError(75);var d=i.lookupNode(l,a),m=oe.relative(e,n);if(m.charAt(0)!==".")throw new i.ErrnoError(28);if(m=oe.relative(r,t),m.charAt(0)!==".")throw new i.ErrnoError(55);var p;try{p=i.lookupNode(f,o)}catch{}if(d!==p){var b=i.isDir(d.mode),h=i.mayDelete(l,a,b);if(h)throw new i.ErrnoError(h);if(h=p?i.mayDelete(f,o,b):i.mayCreate(f,o),h)throw new i.ErrnoError(h);if(!l.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(d)||p&&i.isMountpoint(p))throw new i.ErrnoError(10);if(f!==l&&(h=i.nodePermissions(l,"w"),h))throw new i.ErrnoError(h);i.hashRemoveNode(d);try{l.node_ops.rename(d,f,o)}catch(E){throw E}finally{i.hashAddNode(d)}}},rmdir(e){var r=i.lookupPath(e,{parent:!0}),t=r.node,n=D.basename(e),a=i.lookupNode(t,n),o=i.mayDelete(t,n,!0);if(o)throw new i.ErrnoError(o);if(!t.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(a))throw new i.ErrnoError(10);t.node_ops.rmdir(t,n),i.destroyNode(a)},readdir(e){var r=i.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new i.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var r=i.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new i.ErrnoError(44);var n=D.basename(e),a=i.lookupNode(t,n),o=i.mayDelete(t,n,!1);if(o)throw new i.ErrnoError(o);if(!t.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(a))throw new i.ErrnoError(10);t.node_ops.unlink(t,n),i.destroyNode(a)},readlink(e){var r=i.lookupPath(e),t=r.node;if(!t)throw new i.ErrnoError(44);if(!t.node_ops.readlink)throw new i.ErrnoError(28);return oe.resolve(i.getPath(t.parent),t.node_ops.readlink(t))},stat(e,r){var t=i.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new i.ErrnoError(44);if(!n.node_ops.getattr)throw new i.ErrnoError(63);return n.node_ops.getattr(n)},lstat(e){return i.stat(e,!0)},chmod(e,r,t){var n;if(typeof e=="string"){var a=i.lookupPath(e,{follow:!t});n=a.node}else n=e;if(!n.node_ops.setattr)throw new i.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod(e,r){i.chmod(e,r,!0)},fchmod(e,r){var t=i.getStreamChecked(e);i.chmod(t.node,r)},chown(e,r,t,n){var a;if(typeof e=="string"){var o=i.lookupPath(e,{follow:!n});a=o.node}else a=e;if(!a.node_ops.setattr)throw new i.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown(e,r,t){i.chown(e,r,t,!0)},fchown(e,r,t){var n=i.getStreamChecked(e);i.chown(n.node,r,t)},truncate(e,r){if(r<0)throw new i.ErrnoError(28);var t;if(typeof e=="string"){var n=i.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new i.ErrnoError(63);if(i.isDir(t.mode))throw new i.ErrnoError(31);if(!i.isFile(t.mode))throw new i.ErrnoError(28);var a=i.nodePermissions(t,"w");if(a)throw new i.ErrnoError(a);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate(e,r){var t=i.getStreamChecked(e);if(!(t.flags&2097155))throw new i.ErrnoError(28);i.truncate(t.node,r)},utime(e,r,t){var n=i.lookupPath(e,{follow:!0}),a=n.node;a.node_ops.setattr(a,{timestamp:Math.max(r,t)})},open(e,r,t){if(e==="")throw new i.ErrnoError(44);r=typeof r=="string"?qt(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var n;if(typeof e=="object")n=e;else{e=D.normalize(e);try{var a=i.lookupPath(e,{follow:!(r&131072)});n=a.node}catch{}}var o=!1;if(r&64)if(n){if(r&128)throw new i.ErrnoError(20)}else n=i.mknod(e,t,0),o=!0;if(!n)throw new i.ErrnoError(44);if(i.isChrdev(n.mode)&&(r&=-513),r&65536&&!i.isDir(n.mode))throw new i.ErrnoError(54);if(!o){var s=i.mayOpen(n,r);if(s)throw new i.ErrnoError(s)}r&512&&!o&&i.truncate(n,0),r&=-131713;var l=i.createStream({node:n,path:i.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),u.logReadFiles&&!(r&1)&&(i.readFiles||(i.readFiles={}),e in i.readFiles||(i.readFiles[e]=1)),l},close(e){if(i.isClosed(e))throw new i.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{i.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(i.isClosed(e))throw new i.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new i.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new i.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(n<0||a<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===1)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.read)throw new i.ErrnoError(28);var o=typeof a<"u";if(!o)a=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var s=e.stream_ops.read(e,r,t,n,a);return o||(e.position+=s),s},write(e,r,t,n,a,o){if(n<0||a<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.write)throw new i.ErrnoError(28);e.seekable&&e.flags&1024&&i.llseek(e,0,2);var s=typeof a<"u";if(!s)a=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var l=e.stream_ops.write(e,r,t,n,a,o);return s||(e.position+=l),l},allocate(e,r,t){if(i.isClosed(e))throw new i.ErrnoError(8);if(r<0||t<=0)throw new i.ErrnoError(28);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(!i.isFile(e.node.mode)&&!i.isDir(e.node.mode))throw new i.ErrnoError(43);if(!e.stream_ops.allocate)throw new i.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,a){if(n&2&&!(a&2)&&(e.flags&2097155)!==2)throw new i.ErrnoError(2);if((e.flags&2097155)===1)throw new i.ErrnoError(2);if(!e.stream_ops.mmap)throw new i.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,a)},msync(e,r,t,n,a){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0},munmap:e=>0,ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new i.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=i.open(e,r.flags),a=i.stat(e),o=a.size,s=new Uint8Array(o);return i.read(n,s,0,o,0),r.encoding==="utf8"?t=ge(s,0):r.encoding==="binary"&&(t=s),i.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=i.open(e,t.flags,t.mode);if(typeof r=="string"){var a=new Uint8Array(_e(r)+1),o=Qe(r,a,0,a.length);i.write(n,a,0,o,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))i.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");i.close(n)},cwd:()=>i.currentPath,chdir(e){var r=i.lookupPath(e,{follow:!0});if(r.node===null)throw new i.ErrnoError(44);if(!i.isDir(r.node.mode))throw new i.ErrnoError(54);var t=i.nodePermissions(r.node,"x");if(t)throw new i.ErrnoError(t);i.currentPath=r.path},createDefaultDirectories(){i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices(){i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(n,a,o,s,l)=>s}),i.mkdev("/dev/null",i.makedev(1,3)),de.register(i.makedev(5,0),de.default_tty_ops),de.register(i.makedev(6,0),de.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(r=Dr(e).byteLength),e[--r]);i.createDevice("/dev","random",t),i.createDevice("/dev","urandom",t),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories(){i.mkdir("/proc");var e=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount(){var r=i.createNode(e,"fd",16895,73);return r.node_ops={lookup(t,n){var a=+n,o=i.getStreamChecked(a),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>o.path}};return s.parent=s,s}},r}},{},"/proc/self/fd")},createStandardStreams(){u.stdin?i.createDevice("/dev","stdin",u.stdin):i.symlink("/dev/tty","/dev/stdin"),u.stdout?i.createDevice("/dev","stdout",null,u.stdout):i.symlink("/dev/tty","/dev/stdout"),u.stderr?i.createDevice("/dev","stderr",null,u.stderr):i.symlink("/dev/tty1","/dev/stderr"),i.open("/dev/stdin",0),i.open("/dev/stdout",1),i.open("/dev/stderr",1)},staticInit(){[44].forEach(e=>{i.genericErrors[e]=new i.ErrnoError(e),i.genericErrors[e].stack="<generic error, no stack>"}),i.nameTable=new Array(4096),i.mount(L,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:L,IDBFS:R}},init(e,r,t){i.init.initialized=!0,u.stdin=e||u.stdin,u.stdout=r||u.stdout,u.stderr=t||u.stderr,i.createStandardStreams()},quit(){i.init.initialized=!1;for(var e=0;e<i.streams.length;e++){var r=i.streams[e];r&&i.close(r)}},findObject(e,r){var t=i.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=i.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=i.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=D.basename(e),t=i.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(a){n.error=a.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:i.getPath(e);for(var a=r.split("/").reverse();a.length;){var o=a.pop();if(o){var s=D.join2(e,o);try{i.mkdir(s)}catch{}e=s}}return s},createFile(e,r,t,n,a){var o=D.join2(typeof e=="string"?e:i.getPath(e),r),s=Je(n,a);return i.create(o,s)},createDataFile(e,r,t,n,a,o){var s=r;e&&(e=typeof e=="string"?e:i.getPath(e),s=r?D.join2(e,r):e);var l=Je(n,a),f=i.create(s,l);if(t){if(typeof t=="string"){for(var d=new Array(t.length),m=0,p=t.length;m<p;++m)d[m]=t.charCodeAt(m);t=d}i.chmod(f,l|146);var b=i.open(f,577);i.write(b,t,0,t.length,0,o),i.close(b),i.chmod(f,l)}},createDevice(e,r,t,n){var a=D.join2(typeof e=="string"?e:i.getPath(e),r),o=Je(!!t,!!n);i.createDevice.major||(i.createDevice.major=64);var s=i.makedev(i.createDevice.major++,0);return i.registerDevice(s,{open(l){l.seekable=!1},close(l){var f;(f=n==null?void 0:n.buffer)!=null&&f.length&&n(10)},read(l,f,d,m,p){for(var b=0,h=0;h<m;h++){var E;try{E=t()}catch{throw new i.ErrnoError(29)}if(E===void 0&&b===0)throw new i.ErrnoError(6);if(E==null)break;b++,f[d+h]=E}return b&&(l.node.timestamp=Date.now()),b},write(l,f,d,m,p){for(var b=0;b<m;b++)try{n(f[d+b])}catch{throw new i.ErrnoError(29)}return m&&(l.node.timestamp=Date.now()),b}}),i.mkdev(a,o,s)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(He)try{e.contents=$e(He(e.url),!0),e.usedBytes=e.contents.length}catch{throw new i.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(e,r,t,n,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(h){if(!(h>this.length-1||h<0)){var E=h%this.chunkSize,k=h/this.chunkSize|0;return this.getter(k)[E]}},o.prototype.setDataGetter=function(h){this.getter=h},o.prototype.cacheLength=function(){var h=new XMLHttpRequest;if(h.open("HEAD",t,!1),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+t+". Status: "+h.status);var E=Number(h.getResponseHeader("Content-length")),k,I=(k=h.getResponseHeader("Accept-Ranges"))&&k==="bytes",B=(k=h.getResponseHeader("Content-Encoding"))&&k==="gzip",j=1024*1024;I||(j=E);var U=(H,Z)=>{if(H>Z)throw new Error("invalid range ("+H+", "+Z+") or no bytes requested!");if(Z>E-1)throw new Error("only "+E+" bytes available! programmer error!");var O=new XMLHttpRequest;if(O.open("GET",t,!1),E!==j&&O.setRequestHeader("Range","bytes="+H+"-"+Z),O.responseType="arraybuffer",O.overrideMimeType&&O.overrideMimeType("text/plain; charset=x-user-defined"),O.send(null),!(O.status>=200&&O.status<300||O.status===304))throw new Error("Couldn't load "+t+". Status: "+O.status);return O.response!==void 0?new Uint8Array(O.response||[]):$e(O.responseText||"")},N=this;N.setDataGetter(H=>{var Z=H*j,O=(H+1)*j-1;if(O=Math.min(O,E-1),typeof N.chunks[H]>"u"&&(N.chunks[H]=U(Z,O)),typeof N.chunks[H]>"u")throw new Error("doXHR failed!");return N.chunks[H]}),(B||!E)&&(j=E=1,E=this.getter(0).length,j=E,Ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=E,this._chunkSize=j,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s,l}else var l={isDevice:!1,url:t};var f=i.createFile(e,r,l,n,a);l.contents?f.contents=l.contents:l.url&&(f.contents=null,f.url=l.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var d={},m=Object.keys(f.stream_ops);m.forEach(b=>{var h=f.stream_ops[b];d[b]=function(){return i.forceLoadFile(f),h.apply(null,arguments)}});function p(b,h,E,k,I){var B=b.node.contents;if(I>=B.length)return 0;var j=Math.min(B.length-I,k);if(B.slice)for(var U=0;U<j;U++)h[E+U]=B[I+U];else for(var U=0;U<j;U++)h[E+U]=B.get(I+U);return j}return d.read=(b,h,E,k,I)=>(i.forceLoadFile(f),p(b,h,E,k,I)),d.mmap=(b,h,E,k,I)=>{i.forceLoadFile(f);var B=Pr(h);if(!B)throw new i.ErrnoError(48);return p(b,q,B,h,E),{ptr:B,allocated:!0}},f.stream_ops=d,f}},V=(e,r)=>e?ge(Y,e,r):"",x={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(D.isAbs(r))return r;var n;if(e===-100)n=i.cwd();else{var a=x.getStreamFromFD(e);n=a.path}if(r.length==0){if(!t)throw new i.ErrnoError(44);return n}return D.join2(n,r)},doStat(e,r,t){var n=e(r);c[t>>2]=n.dev,c[t+4>>2]=n.mode,F[t+8>>2]=n.nlink,c[t+12>>2]=n.uid,c[t+16>>2]=n.gid,c[t+20>>2]=n.rdev,M=[n.size>>>0,(S=n.size,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[t+24>>2]=M[0],c[t+28>>2]=M[1],c[t+32>>2]=4096,c[t+36>>2]=n.blocks;var a=n.atime.getTime(),o=n.mtime.getTime(),s=n.ctime.getTime();return M=[Math.floor(a/1e3)>>>0,(S=Math.floor(a/1e3),+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[t+40>>2]=M[0],c[t+44>>2]=M[1],F[t+48>>2]=a%1e3*1e3,M=[Math.floor(o/1e3)>>>0,(S=Math.floor(o/1e3),+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[t+56>>2]=M[0],c[t+60>>2]=M[1],F[t+64>>2]=o%1e3*1e3,M=[Math.floor(s/1e3)>>>0,(S=Math.floor(s/1e3),+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[t+72>>2]=M[0],c[t+76>>2]=M[1],F[t+80>>2]=s%1e3*1e3,M=[n.ino>>>0,(S=n.ino,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[t+88>>2]=M[0],c[t+92>>2]=M[1],0},doMsync(e,r,t,n,a){if(!i.isFile(r.node.mode))throw new i.ErrnoError(43);if(n&2)return 0;var o=Y.slice(e,e+t);i.msync(r,o,a,t,n)},varargs:void 0,get(){var e=c[+x.varargs>>2];return x.varargs+=4,e},getp(){return x.get()},getStr(e){var r=V(e);return r},getStreamFromFD(e){var r=i.getStreamChecked(e);return r}};function Ht(e,r,t){x.varargs=t;try{var n=x.getStreamFromFD(e);switch(r){case 0:{var a=x.get();if(a<0)return-28;for(;i.streams[a];)a++;var o;return o=i.createStream(n,a),o.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var a=x.get();return n.flags|=a,0}case 12:{var a=x.getp(),s=0;return ie[a+s>>1]=2,0}case 13:case 14:return 0}return-28}catch(l){if(typeof i>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Vt(e,r){try{var t=x.getStreamFromFD(e);return x.doStat(i.stat,t.path,r)}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var pe=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function Wt(e,r,t){var n=pe(r,t);try{return isNaN(n)?61:(i.ftruncate(e,n),0)}catch(a){if(typeof i>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}var G=(e,r,t)=>Qe(e,Y,r,t);function Xt(e,r){try{if(r===0)return-28;var t=i.cwd(),n=_e(t)+1;return r<n?-68:(G(t,e,r),n)}catch(a){if(typeof i>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Yt(e,r,t){try{var n=x.getStreamFromFD(e);n.getdents||(n.getdents=i.readdir(n.path));for(var a=280,o=0,s=i.llseek(n,0,1),l=Math.floor(s/a);l<n.getdents.length&&o+a<=t;){var f,d,m=n.getdents[l];if(m===".")f=n.node.id,d=4;else if(m===".."){var p=i.lookupPath(n.path,{parent:!0});f=p.node.id,d=4}else{var b=i.lookupNode(n.node,m);f=b.id,d=i.isChrdev(b.mode)?2:i.isDir(b.mode)?4:i.isLink(b.mode)?10:8}M=[f>>>0,(S=f,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[r+o>>2]=M[0],c[r+o+4>>2]=M[1],M=[(l+1)*a>>>0,(S=(l+1)*a,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[r+o+8>>2]=M[0],c[r+o+12>>2]=M[1],ie[r+o+16>>1]=280,q[r+o+18>>0]=d,G(m,r+o+19,256),o+=a,l+=1}return i.llseek(n,l*a,0),o}catch(h){if(typeof i>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Qt(e,r,t){x.varargs=t;try{var n=x.getStreamFromFD(e);switch(r){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),o=x.getp();c[o>>2]=a.c_iflag||0,c[o+4>>2]=a.c_oflag||0,c[o+8>>2]=a.c_cflag||0,c[o+12>>2]=a.c_lflag||0;for(var s=0;s<32;s++)q[o+s+17>>0]=a.c_cc[s]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var o=x.getp(),l=c[o>>2],f=c[o+4>>2],d=c[o+8>>2],m=c[o+12>>2],p=[],s=0;s<32;s++)p.push(q[o+s+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:l,c_oflag:f,c_cflag:d,c_lflag:m,c_cc:p})}return 0}case 21519:{if(!n.tty)return-59;var o=x.getp();return c[o>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var o=x.getp();return i.ioctl(n,r,o)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var b=n.tty.ops.ioctl_tiocgwinsz(n.tty),o=x.getp();ie[o>>1]=b[0],ie[o+2>>1]=b[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(h){if(typeof i>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function $t(e,r){try{return e=x.getStr(e),x.doStat(i.lstat,e,r)}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Kt(e,r,t){try{return r=x.getStr(r),r=x.calculateAt(e,r),r=D.normalize(r),r[r.length-1]==="/"&&(r=r.substr(0,r.length-1)),i.mkdir(r,t,0),0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Jt(e,r,t,n){try{r=x.getStr(r);var a=n&256,o=n&4096;return n=n&-6401,r=x.calculateAt(e,r,o),x.doStat(a?i.lstat:i.stat,r,t)}catch(s){if(typeof i>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Zt(e,r,t,n){x.varargs=n;try{r=x.getStr(r),r=x.calculateAt(e,r);var a=n?x.get():0;return i.open(r,t,a).fd}catch(o){if(typeof i>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function en(e,r,t,n){try{if(r=x.getStr(r),r=x.calculateAt(e,r),n<=0)return-28;var a=i.readlink(r),o=Math.min(n,_e(a)),s=q[t+o];return G(a,t,n+1),q[t+o]=s,o}catch(l){if(typeof i>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function rn(e){try{return e=x.getStr(e),i.rmdir(e),0}catch(r){if(typeof i>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function tn(e,r){try{return e=x.getStr(e),x.doStat(i.stat,e,r)}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function nn(e,r,t){try{return r=x.getStr(r),r=x.calculateAt(e,r),t===0?i.unlink(r):t===512?i.rmdir(r):se("Invalid flags passed to unlinkat"),0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Mr=e=>F[e>>2]+c[e+4>>2]*4294967296;function an(e,r,t,n){try{if(r=x.getStr(r),r=x.calculateAt(e,r,!0),t){var s=Mr(t),l=c[t+8>>2];a=s*1e3+l/1e6,t+=16,s=Mr(t),l=c[t+8>>2],o=s*1e3+l/1e6}else var a=Date.now(),o=a;return i.utime(r,a,o),0}catch(f){if(typeof i>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}var on=1,sn=()=>on,ln=()=>{throw 1/0},un=e=>e%4===0&&(e%100!==0||e%400===0),cn=[0,31,60,91,121,152,182,213,244,274,305,335],fn=[0,31,59,90,120,151,181,212,243,273,304,334],Rr=e=>{var r=un(e.getFullYear()),t=r?cn:fn,n=t[e.getMonth()]+e.getDate()-1;return n};function dn(e,r,t){var n=pe(e,r),a=new Date(n*1e3);c[t>>2]=a.getSeconds(),c[t+4>>2]=a.getMinutes(),c[t+8>>2]=a.getHours(),c[t+12>>2]=a.getDate(),c[t+16>>2]=a.getMonth(),c[t+20>>2]=a.getFullYear()-1900,c[t+24>>2]=a.getDay();var o=Rr(a)|0;c[t+28>>2]=o,c[t+36>>2]=-(a.getTimezoneOffset()*60);var s=new Date(a.getFullYear(),0,1),l=new Date(a.getFullYear(),6,1).getTimezoneOffset(),f=s.getTimezoneOffset(),d=(l!=f&&a.getTimezoneOffset()==Math.min(f,l))|0;c[t+32>>2]=d}var vn=function(e){var r=(()=>{var t=new Date(c[e+20>>2]+1900,c[e+16>>2],c[e+12>>2],c[e+8>>2],c[e+4>>2],c[e>>2],0),n=c[e+32>>2],a=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),6,1).getTimezoneOffset(),l=o.getTimezoneOffset(),f=Math.min(l,s);if(n<0)c[e+32>>2]=+(s!=l&&f==a);else if(n>0!=(f==a)){var d=Math.max(l,s),m=n>0?f:d;t.setTime(t.getTime()+(m-a)*6e4)}c[e+24>>2]=t.getDay();var p=Rr(t)|0;c[e+28>>2]=p,c[e>>2]=t.getSeconds(),c[e+4>>2]=t.getMinutes(),c[e+8>>2]=t.getHours(),c[e+12>>2]=t.getDate(),c[e+16>>2]=t.getMonth(),c[e+20>>2]=t.getYear();var b=t.getTime();return isNaN(b)?-1:b/1e3})();return vt((S=r,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)),r>>>0};function mn(e,r,t,n,a,o,s,l){var f=pe(a,o);try{if(isNaN(f))return 61;var d=x.getStreamFromFD(n),m=i.mmap(d,e,f,r,t),p=m.ptr;return c[s>>2]=m.allocated,F[l>>2]=p,0}catch(b){if(typeof i>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function gn(e,r,t,n,a,o,s){var l=pe(o,s);try{return isNaN(l)?61:(x.doMsync(e,x.getStreamFromFD(a),r,n,l),0)}catch(f){if(typeof i>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function _n(e,r,t,n,a,o,s){var l=pe(o,s);try{if(isNaN(l))return 61;var f=x.getStreamFromFD(a);t&2&&x.doMsync(e,f,r,n,l),i.munmap(f)}catch(d){if(typeof i>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}var ne=e=>{var r=_e(e)+1,t=$(r);return t&&G(e,t,r),t},pn=(e,r,t)=>{var n=new Date().getFullYear(),a=new Date(n,0,1),o=new Date(n,6,1),s=a.getTimezoneOffset(),l=o.getTimezoneOffset(),f=Math.max(s,l);F[e>>2]=f*60,c[r>>2]=+(s!=l);function d(E){var k=E.toTimeString().match(/\(([A-Za-z ]+)\)$/);return k?k[1]:"GMT"}var m=d(a),p=d(o),b=ne(m),h=ne(p);l<s?(F[t>>2]=b,F[t+4>>2]=h):(F[t>>2]=h,F[t+4>>2]=b)},hn=()=>{se("")},he=(e,r)=>{if(g.mainLoop.timingMode=e,g.mainLoop.timingValue=r,!g.mainLoop.func)return 1;if(g.mainLoop.running||(g.mainLoop.running=!0),e==0)g.mainLoop.scheduler=function(){var s=Math.max(0,g.mainLoop.tickStartTime+r-Pe())|0;setTimeout(g.mainLoop.runner,s)},g.mainLoop.method="timeout";else if(e==1)g.mainLoop.scheduler=function(){g.requestAnimationFrame(g.mainLoop.runner)},g.mainLoop.method="rAF";else if(e==2){if(typeof g.setImmediate>"u")if(typeof setImmediate>"u"){var t=[],n="setimmediate",a=o=>{(o.data===n||o.data.target===n)&&(o.stopPropagation(),t.shift()())};addEventListener("message",a,!0),g.setImmediate=function(s){t.push(s),postMessage(n,"*")}}else g.setImmediate=setImmediate;g.mainLoop.scheduler=function(){g.setImmediate(g.mainLoop.runner)},g.mainLoop.method="immediate"}return 0},Pe;Pe=()=>performance.now();var Br=(e,r,t,n,a)=>{be(!g.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),g.mainLoop.func=e,g.mainLoop.arg=n;var o=g.mainLoop.currentlyRunningMainloop;function s(){return!(o<g.mainLoop.currentlyRunningMainloop)}if(g.mainLoop.running=!1,g.mainLoop.runner=function(){var p,b;if(!me){if(g.mainLoop.queue.length>0){var f=g.mainLoop.queue.shift();if(f.func(f.arg),g.mainLoop.remainingBlockers){var d=g.mainLoop.remainingBlockers,m=d%1==0?d-1:Math.floor(d);f.counted?g.mainLoop.remainingBlockers=m:(m=m+.5,g.mainLoop.remainingBlockers=(8*d+m)/9)}if(g.mainLoop.updateStatus(),!s())return;setTimeout(g.mainLoop.runner,0);return}if(s()){if(g.mainLoop.currentFrameNumber=g.mainLoop.currentFrameNumber+1|0,g.mainLoop.timingMode==1&&g.mainLoop.timingValue>1&&g.mainLoop.currentFrameNumber%g.mainLoop.timingValue!=0){g.mainLoop.scheduler();return}else g.mainLoop.timingMode==0&&(g.mainLoop.tickStartTime=Pe());g.mainLoop.runIter(e),s()&&(typeof SDL=="object"&&((b=(p=SDL.audio)==null?void 0:p.queueNewAudioData)==null||b.call(p)),g.mainLoop.scheduler())}}},a||(r&&r>0?he(0,1e3/r):he(1,1),g.mainLoop.scheduler()),t)throw"unwind"},Ze=e=>{if(e instanceof Ar||e=="unwind")return Ee;qe(1,e)},yn=0,Gr=()=>Rt||yn>0,En=e=>{var r;Ee=e,Gr()||((r=u.onExit)==null||r.call(u,e),me=!0),qe(e,new Ar(e))},Ir=(e,r)=>{Ee=e,En(e)},Ur=Ir,bn=()=>{if(!Gr())try{Ur(Ee)}catch(e){Ze(e)}},er=e=>{if(!me)try{e(),bn()}catch(r){Ze(r)}},Nr=(e,r)=>setTimeout(()=>{er(e)},r),g={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause(){g.mainLoop.scheduler=null,g.mainLoop.currentlyRunningMainloop++},resume(){g.mainLoop.currentlyRunningMainloop++;var e=g.mainLoop.timingMode,r=g.mainLoop.timingValue,t=g.mainLoop.func;g.mainLoop.func=null,Br(t,0,!1,g.mainLoop.arg,!0),he(e,r),g.mainLoop.scheduler()},updateStatus(){if(u.setStatus){var e=u.statusMessage||"Please wait...",r=g.mainLoop.remainingBlockers,t=g.mainLoop.expectedBlockers;r?r<t?u.setStatus(e+" ("+(t-r)+"/"+t+")"):u.setStatus(e):u.setStatus("")}},runIter(e){var t;if(!me){if(u.preMainLoop){var r=u.preMainLoop();if(r===!1)return}er(e),(t=u.postMainLoop)==null||t.call(u)}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init(){if(g.initted)return;g.initted=!0;var e={};e.canHandle=function(o){return!u.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(o)},e.handle=function(o,s,l,f){var d=new Blob([o],{type:g.getMimetype(s)});d.size!==o.length&&(d=new Blob([new Uint8Array(o).buffer],{type:g.getMimetype(s)}));var m=URL.createObjectURL(d),p=new Image;p.onload=()=>{be(p.complete,`Image ${s} could not be decoded`);var b=document.createElement("canvas");b.width=p.width,b.height=p.height;var h=b.getContext("2d");h.drawImage(p,0,0),URL.revokeObjectURL(m),l==null||l(o)},p.onerror=b=>{ee(`Image ${m} could not be decoded`),f==null||f()},p.src=m},Ke.push(e);var r={};r.canHandle=function(o){return!u.noAudioDecoding&&o.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},r.handle=function(o,s,l,f){var d=!1;function m(E){d||(d=!0,l==null||l(o))}var p=new Blob([o],{type:g.getMimetype(s)}),b=URL.createObjectURL(p),h=new Audio;h.addEventListener("canplaythrough",()=>m(),!1),h.onerror=function(k){if(d)return;ee(`warning: browser could not fully decode audio ${s}, trying slower base64 approach`);function I(B){for(var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="=",N="",H=0,Z=0,O=0;O<B.length;O++)for(H=H<<8|B[O],Z+=8;Z>=6;){var zf=H>>Z-6&63;Z-=6,N+=j[zf]}return Z==2?(N+=j[(H&3)<<4],N+=U+U):Z==4&&(N+=j[(H&15)<<2],N+=U),N}h.src="data:audio/x-"+s.substr(-3)+";base64,"+I(o),m()},h.src=b,Nr(()=>{m()},1e4)},Ke.push(r);function t(){g.pointerLock=document.pointerLockElement===u.canvas||document.mozPointerLockElement===u.canvas||document.webkitPointerLockElement===u.canvas||document.msPointerLockElement===u.canvas}var n=u.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",t,!1),document.addEventListener("mozpointerlockchange",t,!1),document.addEventListener("webkitpointerlockchange",t,!1),document.addEventListener("mspointerlockchange",t,!1),u.elementPointerLock&&n.addEventListener("click",a=>{!g.pointerLock&&u.canvas.requestPointerLock&&(u.canvas.requestPointerLock(),a.preventDefault())},!1))},createContext(e,r,t,n){if(r&&u.ctx&&e==u.canvas)return u.ctx;var a,o;if(r){var s={antialias:!1,alpha:!1,majorVersion:1};if(n)for(var l in n)s[l]=n[l];typeof _<"u"&&(o=_.createContext(e,s),o&&(a=_.getContext(o).GLctx))}else a=e.getContext("2d");return a?(t&&(r||be(typeof v>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),u.ctx=a,r&&_.makeContextCurrent(o),u.useWebGL=r,g.moduleContextCreatedCallbacks.forEach(f=>f()),g.init()),a):null},destroyContext(e,r,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,r){g.lockPointer=e,g.resizeCanvas=r,typeof g.lockPointer>"u"&&(g.lockPointer=!0),typeof g.resizeCanvas>"u"&&(g.resizeCanvas=!1);var t=u.canvas;function n(){var s,l;g.isFullscreen=!1;var o=t.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===o?(t.exitFullscreen=g.exitFullscreen,g.lockPointer&&t.requestPointerLock(),g.isFullscreen=!0,g.resizeCanvas?g.setFullscreenCanvasSize():g.updateCanvasDimensions(t)):(o.parentNode.insertBefore(t,o),o.parentNode.removeChild(o),g.resizeCanvas?g.setWindowedCanvasSize():g.updateCanvasDimensions(t)),(s=u.onFullScreen)==null||s.call(u,g.isFullscreen),(l=u.onFullscreen)==null||l.call(u,g.isFullscreen)}g.fullscreenHandlersInstalled||(g.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var a=document.createElement("div");t.parentNode.insertBefore(a,t),a.appendChild(t),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},exitFullscreen(){if(!g.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{});return e.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame(e){var r=Date.now();if(g.nextRAF===0)g.nextRAF=r+1e3/60;else for(;r+2>=g.nextRAF;)g.nextRAF+=1e3/60;var t=Math.max(g.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var r=g.fakeRequestAnimationFrame;r(e)},safeSetTimeout(e,r){return Nr(e,r)},safeRequestAnimationFrame(e){return g.requestAnimationFrame(()=>{er(e)})},getMimetype(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,r){var t=u.canvas.getBoundingClientRect(),n=u.canvas.width,a=u.canvas.height,o=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,s=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset,l=e-(o+t.left),f=r-(s+t.top);return l=l*(n/t.width),f=f*(a/t.height),{x:l,y:f}},setMouseCoords(e,r){const{x:t,y:n}=g.calculateMouseCoords(e,r);g.mouseMovementX=t-g.mouseX,g.mouseMovementY=n-g.mouseY,g.mouseX=t,g.mouseY=n},calculateMouseEvent(e){if(g.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?g.mouseMovementX=g.mouseMovementY=0:(g.mouseMovementX=g.getMovementX(e),g.mouseMovementY=g.getMovementY(e)),typeof SDL<"u"?(g.mouseX=SDL.mouseX+g.mouseMovementX,g.mouseY=SDL.mouseY+g.mouseMovementY):(g.mouseX+=g.mouseMovementX,g.mouseY+=g.mouseMovementY);else{if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var r=e.touch;if(r===void 0)return;var t=g.calculateMouseCoords(r.pageX,r.pageY);if(e.type==="touchstart")g.lastTouches[r.identifier]=t,g.touches[r.identifier]=t;else if(e.type==="touchend"||e.type==="touchmove"){var n=g.touches[r.identifier];n||(n=t),g.lastTouches[r.identifier]=n,g.touches[r.identifier]=t}return}g.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=u.canvas;g.resizeListeners.forEach(r=>r(e.width,e.height))},setCanvasSize(e,r,t){var n=u.canvas;g.updateCanvasDimensions(n,e,r),t||g.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL<"u"){var e=F[SDL.screen>>2];e=e|8388608,c[SDL.screen>>2]=e}g.updateCanvasDimensions(u.canvas),g.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL<"u"){var e=F[SDL.screen>>2];e=e&-8388609,c[SDL.screen>>2]=e}g.updateCanvasDimensions(u.canvas),g.updateResizeListeners()},updateCanvasDimensions(e,r,t){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var n=r,a=t;if(u.forcedAspectRatio&&u.forcedAspectRatio>0&&(n/a<u.forcedAspectRatio?n=Math.round(a*u.forcedAspectRatio):a=Math.round(n/u.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var o=Math.min(screen.width/n,screen.height/a);n=Math.round(n*o),a=Math.round(a*o)}g.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=a&&(e.height=a),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),typeof e.style<"u"&&(n!=r||a!=t?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},w={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(e){w.errorCode=e},chooseConfig(e,r,t,n,a){if(e!=62e3)return w.setErrorCode(12296),0;if(r)for(;;){var o=c[r>>2];if(o==12321){var s=c[r+4>>2];w.contextAttributes.alpha=s>0}else if(o==12325){var l=c[r+4>>2];w.contextAttributes.depth=l>0}else if(o==12326){var f=c[r+4>>2];w.contextAttributes.stencil=f>0}else if(o==12337){var d=c[r+4>>2];w.contextAttributes.antialias=d>0}else if(o==12338){var d=c[r+4>>2];w.contextAttributes.antialias=d==1}else if(o==12544){var m=c[r+4>>2];w.contextAttributes.lowLatency=m!=12547}else if(o==12344)break;r+=8}return(!t||!n)&&!a?(w.setErrorCode(12300),0):(a&&(c[a>>2]=1),t&&n>0&&(F[t>>2]=62002),w.setErrorCode(12288),1)}},wn=e=>e==12448?(w.setErrorCode(12288),1):(w.setErrorCode(12300),0),kn=(e,r,t,n,a)=>w.chooseConfig(e,r,t,n,a),Sn=e=>{var r=e.getExtension("ANGLE_instanced_arrays");if(r)return e.vertexAttribDivisor=(t,n)=>r.vertexAttribDivisorANGLE(t,n),e.drawArraysInstanced=(t,n,a,o)=>r.drawArraysInstancedANGLE(t,n,a,o),e.drawElementsInstanced=(t,n,a,o,s)=>r.drawElementsInstancedANGLE(t,n,a,o,s),1},Cn=e=>{var r=e.getExtension("OES_vertex_array_object");if(r)return e.createVertexArray=()=>r.createVertexArrayOES(),e.deleteVertexArray=t=>r.deleteVertexArrayOES(t),e.bindVertexArray=t=>r.bindVertexArrayOES(t),e.isVertexArray=t=>r.isVertexArrayOES(t),1},xn=e=>{var r=e.getExtension("WEBGL_draw_buffers");if(r)return e.drawBuffers=(t,n)=>r.drawBuffersWEBGL(t,n),1},Ln=e=>!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")),Or=function(e){var r=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_color_buffer_half_float","EXT_float_blend","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw"];return(e.getSupportedExtensions()||[]).filter(t=>r.includes(t))},_={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(r){_.lastError||(_.lastError=r)},getNewId:e=>{for(var r=_.counter++,t=e.length;t<r;t++)e[t]=null;return r},getSource:(e,r,t,n)=>{for(var a="",o=0;o<r;++o){var s=n?F[n+o*4>>2]:void 0;a+=V(F[t+o*4>>2],s)}return a},createContext:(e,r)=>{if(!e.getContextSafariWebGL2Fixed){let a=function(o,s){var l=e.getContextSafariWebGL2Fixed(o,s);return o=="webgl"==l instanceof WebGLRenderingContext?l:null};e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=a}var t=e.getContext("webgl",r);if(!t)return 0;var n=_.registerContext(t,r);return n},registerContext:(e,r)=>{var t=_.getNewId(_.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),_.contexts[t]=n,(typeof r.enableExtensionsByDefault>"u"||r.enableExtensionsByDefault)&&_.initExtensions(n),t},makeContextCurrent:e=>{var r;return _.currentContext=_.contexts[e],u.ctx=v=(r=_.currentContext)==null?void 0:r.GLctx,!(e&&!v)},getContext:e=>_.contexts[e],deleteContext:e=>{_.currentContext===_.contexts[e]&&(_.currentContext=null),typeof y=="object"&&y.removeAllHandlersOnTarget(_.contexts[e].GLctx.canvas),_.contexts[e]&&_.contexts[e].GLctx.canvas&&(_.contexts[e].GLctx.canvas.GLctxObject=void 0),_.contexts[e]=null},initExtensions:e=>{if(e||(e=_.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r=e.GLctx;Sn(r),Cn(r),xn(r),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),Ln(r),Or(r).forEach(t=>{!t.includes("lose_context")&&!t.includes("debug")&&r.getExtension(t)})}}},An=(e,r,t,n)=>{if(e!=62e3)return w.setErrorCode(12296),0;for(var a=1;;){var o=c[n>>2];if(o==12440)a=c[n+4>>2];else{if(o==12344)break;return w.setErrorCode(12292),0}n+=8}return a!=2?(w.setErrorCode(12293),0):(w.contextAttributes.majorVersion=a-1,w.contextAttributes.minorVersion=0,w.context=_.createContext(u.canvas,w.contextAttributes),w.context!=0?(w.setErrorCode(12288),_.makeContextCurrent(w.context),u.useWebGL=!0,g.moduleContextCreatedCallbacks.forEach(function(s){s()}),_.makeContextCurrent(null),62004):(w.setErrorCode(12297),0))},Fn=(e,r,t,n)=>e!=62e3?(w.setErrorCode(12296),0):r!=62002?(w.setErrorCode(12293),0):(w.setErrorCode(12288),62006),Dn=(e,r)=>e!=62e3?(w.setErrorCode(12296),0):r!=62004?(w.setErrorCode(12294),0):(_.deleteContext(w.context),w.setErrorCode(12288),w.currentContext==r&&(w.currentContext=0),1),Tn=(e,r)=>e!=62e3?(w.setErrorCode(12296),0):r!=62006?(w.setErrorCode(12301),1):(w.currentReadSurface==r&&(w.currentReadSurface=0),w.currentDrawSurface==r&&(w.currentDrawSurface=0),w.setErrorCode(12288),1),Pn=(e,r,t,n)=>{if(e!=62e3)return w.setErrorCode(12296),0;if(r!=62002)return w.setErrorCode(12293),0;if(!n)return w.setErrorCode(12300),0;switch(w.setErrorCode(12288),t){case 12320:return c[n>>2]=w.contextAttributes.alpha?32:24,1;case 12321:return c[n>>2]=w.contextAttributes.alpha?8:0,1;case 12322:return c[n>>2]=8,1;case 12323:return c[n>>2]=8,1;case 12324:return c[n>>2]=8,1;case 12325:return c[n>>2]=w.contextAttributes.depth?24:0,1;case 12326:return c[n>>2]=w.contextAttributes.stencil?8:0,1;case 12327:return c[n>>2]=12344,1;case 12328:return c[n>>2]=62002,1;case 12329:return c[n>>2]=0,1;case 12330:return c[n>>2]=4096,1;case 12331:return c[n>>2]=16777216,1;case 12332:return c[n>>2]=4096,1;case 12333:return c[n>>2]=0,1;case 12334:return c[n>>2]=0,1;case 12335:return c[n>>2]=12344,1;case 12337:return c[n>>2]=w.contextAttributes.antialias?4:0,1;case 12338:return c[n>>2]=w.contextAttributes.antialias?1:0,1;case 12339:return c[n>>2]=4,1;case 12340:return c[n>>2]=12344,1;case 12341:case 12342:case 12343:return c[n>>2]=-1,1;case 12345:case 12346:return c[n>>2]=0,1;case 12347:return c[n>>2]=0,1;case 12348:return c[n>>2]=1,1;case 12349:case 12350:return c[n>>2]=0,1;case 12351:return c[n>>2]=12430,1;case 12352:return c[n>>2]=4,1;case 12354:return c[n>>2]=0,1;default:return w.setErrorCode(12292),0}},Mn=e=>(w.setErrorCode(12288),e!=0&&e!=1?0:62e3),Rn=()=>w.errorCode,Bn=(e,r,t)=>e!=62e3?(w.setErrorCode(12296),0):(r&&(c[r>>2]=1),t&&(c[t>>2]=4),w.defaultDisplayInitialized=!0,w.setErrorCode(12288),1),Gn=(e,r,t,n)=>e!=62e3?(w.setErrorCode(12296),0):n!=0&&n!=62004?(w.setErrorCode(12294),0):t!=0&&t!=62006||r!=0&&r!=62006?(w.setErrorCode(12301),0):(_.makeContextCurrent(n?w.context:null),w.currentContext=n,w.currentDrawSurface=r,w.currentReadSurface=t,w.setErrorCode(12288),1),In=(e,r)=>{if(e!=62e3)return w.setErrorCode(12296),0;if(w.setErrorCode(12288),w.stringCache[r])return w.stringCache[r];var t;switch(r){case 12371:t=ne("Emscripten");break;case 12372:t=ne("1.4 Emscripten EGL");break;case 12373:t=ne("");break;case 12429:t=ne("OpenGL_ES");break;default:return w.setErrorCode(12300),0}return w.stringCache[r]=t,t},Un=(e,r)=>{if(!w.defaultDisplayInitialized)w.setErrorCode(12289);else if(!u.ctx)w.setErrorCode(12290);else if(u.ctx.isContextLost())w.setErrorCode(12302);else return w.setErrorCode(12288),1;return 0},Nn=(e,r)=>e!=62e3?(w.setErrorCode(12296),0):(r==0?he(0,0):he(1,r),w.setErrorCode(12288),1),On=e=>e!=62e3?(w.setErrorCode(12296),0):(w.currentContext=0,w.currentReadSurface=0,w.currentDrawSurface=0,w.defaultDisplayInitialized=!1,w.setErrorCode(12288),1),zn=()=>(w.setErrorCode(12288),1),jn=zn,qn=e=>(w.setErrorCode(12288),1),rr=[],zr=(e,r)=>{rr.length=0;for(var t;t=Y[e++];){var n=t!=105;n&=t!=112,r+=n&&r%8?4:0,rr.push(t==112?F[r>>2]:t==105?c[r>>2]:W[r>>3]),r+=n?8:4}return rr},Hn=(e,r,t)=>{var n=zr(r,t);return Lr[e].apply(null,n)},Vn=(e,r,t)=>Hn(e,r,t),Wn=(e,r,t,n)=>{var a=zr(r,t);return Lr[e].apply(null,a)},Xn=(e,r,t)=>Wn(e,r,t),Yn=()=>Date.now(),jr=e=>{var r=K(),t=e();return J(r),t},y={removeAllEventListeners(){for(;y.eventHandlers.length;)y._removeHandler(y.eventHandlers.length-1);y.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(e,r,t){function n(s,l){if(s.length!=l.length)return!1;for(var f in s)if(s[f]!=l[f])return!1;return!0}for(var a in y.deferredCalls){var o=y.deferredCalls[a];if(o.targetFunction==e&&n(o.argsList,t))return}y.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),y.deferredCalls.sort((s,l)=>s.precedence<l.precedence)},removeDeferredCalls(e){for(var r=0;r<y.deferredCalls.length;++r)y.deferredCalls[r].targetFunction==e&&(y.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests(){return navigator.userActivation?navigator.userActivation.isActive:y.inEventHandler&&y.currentEventHandler.allowsDeferredCalls},runDeferredCalls(){if(y.canPerformEventHandlerRequests())for(var e=0;e<y.deferredCalls.length;++e){var r=y.deferredCalls[e];y.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(e,r)=>{for(var t=0;t<y.eventHandlers.length;++t)y.eventHandlers[t].target==e&&(!r||r==y.eventHandlers[t].eventTypeString)&&y._removeHandler(t--)},_removeHandler(e){var r=y.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),y.eventHandlers.splice(e,1)},registerOrRemoveHandler(e){if(!e.target)return-4;if(e.callbackfunc)e.eventListenerFunc=function(t){++y.inEventHandler,y.currentEventHandler=e,y.runDeferredCalls(),e.handlerFunc(t),y.runDeferredCalls(),--y.inEventHandler},e.target.addEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),y.eventHandlers.push(e);else for(var r=0;r<y.eventHandlers.length;++r)y.eventHandlers[r].target==e.target&&y.eventHandlers[r].eventTypeString==e.eventTypeString&&y._removeHandler(r--);return 0},getNodeNameForTarget(e){return e?e==window?"#window":e==screen?"#screen":(e==null?void 0:e.nodeName)||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},Me={},Qn=e=>e>2?V(e):e,Re=[0,document,window],X=e=>{e=Qn(e);var r=Re[e]||document.querySelector(e);return r},qr=X,$n=(e,r,t)=>{var n=qr(e);if(!n)return-4;c[r>>2]=n.width,c[t>>2]=n.height},tr=e=>{var r=_e(e)+1,t=Oe(r);return G(e,t,r),t},Hr=e=>jr(()=>{var r=Oe(8),t=r+4,n=tr(e.id);$n(n,r,t);var a=[c[r>>2],c[t>>2]];return a}),Vr=(e,r,t)=>{var n=qr(e);return n?(n.width=r,n.height=t,0):-4},Wr=(e,r,t)=>{e.controlTransferredOffscreen?jr(()=>{var n=tr(e.id);Vr(n,r,t)}):(e.width=r,e.height=t)},Kn=e=>{var r=Hr(e),t=r[0],n=r[1],a=e.style.width,o=e.style.height,s=e.style.backgroundColor,l=document.body.style.backgroundColor,f=e.style.paddingLeft,d=e.style.paddingRight,m=e.style.paddingTop,p=e.style.paddingBottom,b=e.style.marginLeft,h=e.style.marginRight,E=e.style.marginTop,k=e.style.marginBottom,I=document.body.style.margin,B=document.documentElement.style.overflow,j=document.body.scroll,U=e.style.imageRendering;function N(){var H=document.fullscreenElement||document.webkitFullscreenElement;H||(document.removeEventListener("fullscreenchange",N),document.removeEventListener("webkitfullscreenchange",N),Wr(e,t,n),e.style.width=a,e.style.height=o,e.style.backgroundColor=s,l||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=l,e.style.paddingLeft=f,e.style.paddingRight=d,e.style.paddingTop=m,e.style.paddingBottom=p,e.style.marginLeft=b,e.style.marginRight=h,e.style.marginTop=E,e.style.marginBottom=k,document.body.style.margin=I,document.documentElement.style.overflow=B,document.body.scroll=j,e.style.imageRendering=U,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,t,n),Me.canvasResizedCallback&&T(Me.canvasResizedCallback)(37,0,Me.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",N),document.addEventListener("webkitfullscreenchange",N),N},nr=(e,r,t)=>{e.style.paddingLeft=e.style.paddingRight=t+"px",e.style.paddingTop=e.style.paddingBottom=r+"px"},Be=e=>Re.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},Jn=(e,r)=>{var t=Kn(e),n=r.softFullscreen?innerWidth:screen.width,a=r.softFullscreen?innerHeight:screen.height,o=Be(e),s=o.width,l=o.height,f=Hr(e),d=f[0],m=f[1];if(r.scaleMode==3)nr(e,(a-l)/2,(n-s)/2),n=s,a=l;else if(r.scaleMode==2)if(n*m<d*a){var p=m*n/d;nr(e,(a-p)/2,0),a=p}else{var b=d*a/m;nr(e,0,(n-b)/2),n=b}e.style.backgroundColor||(e.style.backgroundColor="black"),document.body.style.backgroundColor||(document.body.style.backgroundColor="black"),e.style.width=n+"px",e.style.height=a+"px",r.filteringMode==1&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var h=r.canvasResolutionScaleMode==2?devicePixelRatio:1;if(r.canvasResolutionScaleMode!=0){var E=n*h|0,k=a*h|0;Wr(e,E,k),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,E,k)}return t},ar=(e,r)=>{if((r.scaleMode!=0||r.canvasResolutionScaleMode!=0)&&Jn(e,r),e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else return y.fullscreenEnabled()?-3:-1;return Me=r,r.canvasResizedCallback&&T(r.canvasResizedCallback)(37,0,r.canvasResizedCallbackUserData),0},Zn=()=>{if(!y.fullscreenEnabled())return-1;y.removeDeferredCalls(ar);var e=Re[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else if(e.webkitExitFullscreen)e.webkitFullscreenElement&&e.webkitExitFullscreen();else return-1;return 0},or=e=>{if(e.requestPointerLock)e.requestPointerLock();else return document.body.requestPointerLock?-3:-1;return 0},ea=()=>{if(y.removeDeferredCalls(or),document.exitPointerLock)document.exitPointerLock();else return-1;return 0},ra=()=>devicePixelRatio,ta=(e,r,t)=>{if(e=X(e),!e)return-4;var n=Be(e);return W[r>>3]=n.width,W[t>>3]=n.height,0},Xr=(e,r)=>{W[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)W[e+t*8+16>>3]=r.axes[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?W[e+t*8+528>>3]=r.buttons[t].value:W[e+t*8+528>>3]=r.buttons[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?c[e+t*4+1040>>2]=r.buttons[t].pressed:c[e+t*4+1040>>2]=r.buttons[t]==1;c[e+1296>>2]=r.connected,c[e+1300>>2]=r.index,c[e+8>>2]=r.axes.length,c[e+12>>2]=r.buttons.length,G(r.id,e+1304,64),G(r.mapping,e+1368,64)},na=(e,r)=>e<0||e>=y.lastGamepadState.length?-5:y.lastGamepadState[e]?(Xr(r,y.lastGamepadState[e]),0):-7,aa=(e,r)=>{e&&(c[e>>2]=g.mainLoop.timingMode),r&&(c[r>>2]=g.mainLoop.timingValue)},oa=()=>y.lastGamepadState.length,ia=(e,r)=>{c[e>>2]=screen.width,c[r>>2]=screen.height};function sa(e){v.activeTexture(e)}var la=sa,ua=(e,r)=>{v.attachShader(_.programs[e],_.shaders[r])},ca=ua,fa=(e,r)=>{v.disjointTimerQueryExt.beginQueryEXT(e,_.queries[r])},da=fa,va=(e,r,t)=>{v.bindAttribLocation(_.programs[e],r,V(t))},ma=va,ga=(e,r)=>{v.bindBuffer(e,_.buffers[r])},_a=ga,pa=(e,r)=>{v.bindFramebuffer(e,_.framebuffers[r])},ha=pa,ya=(e,r)=>{v.bindRenderbuffer(e,_.renderbuffers[r])},Ea=ya,ba=(e,r)=>{v.bindTexture(e,_.textures[r])},wa=ba,ka=e=>{v.bindVertexArray(_.vaos[e])},Sa=ka,Ca=Sa;function xa(e,r,t,n){v.blendColor(e,r,t,n)}var La=xa;function Aa(e){v.blendEquation(e)}var Fa=Aa;function Da(e,r){v.blendEquationSeparate(e,r)}var Ta=Da;function Pa(e,r){v.blendFunc(e,r)}var Ma=Pa;function Ra(e,r,t,n){v.blendFuncSeparate(e,r,t,n)}var Ba=Ra,Ga=(e,r,t,n)=>{v.bufferData(e,t?Y.subarray(t,t+r):r,n)},Ia=Ga,Ua=(e,r,t,n)=>{v.bufferSubData(e,r,Y.subarray(n,n+t))},Na=Ua;function Oa(e){return v.checkFramebufferStatus(e)}var za=Oa;function ja(e){v.clear(e)}var qa=ja;function Ha(e,r,t,n){v.clearColor(e,r,t,n)}var Va=Ha;function Wa(e){v.clearDepth(e)}var Xa=Wa;function Ya(e){v.clearStencil(e)}var Qa=Ya,$a=(e,r,t,n)=>{v.colorMask(!!e,!!r,!!t,!!n)},Ka=$a,Ja=e=>{v.compileShader(_.shaders[e])},Za=Ja,eo=(e,r,t,n,a,o,s,l)=>{v.compressedTexImage2D(e,r,t,n,a,o,l?Y.subarray(l,l+s):null)},ro=eo,to=(e,r,t,n,a,o,s,l,f)=>{v.compressedTexSubImage2D(e,r,t,n,a,o,s,f?Y.subarray(f,f+l):null)},no=to;function ao(e,r,t,n,a,o,s,l){v.copyTexImage2D(e,r,t,n,a,o,s,l)}var oo=ao;function io(e,r,t,n,a,o,s,l){v.copyTexSubImage2D(e,r,t,n,a,o,s,l)}var so=io,lo=()=>{var e=_.getNewId(_.programs),r=v.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,_.programs[e]=r,e},uo=lo,co=e=>{var r=_.getNewId(_.shaders);return _.shaders[r]=v.createShader(e),r},fo=co;function vo(e){v.cullFace(e)}var mo=vo,go=(e,r)=>{for(var t=0;t<e;t++){var n=c[r+t*4>>2],a=_.buffers[n];a&&(v.deleteBuffer(a),a.name=0,_.buffers[n]=null)}},_o=go,po=(e,r)=>{for(var t=0;t<e;++t){var n=c[r+t*4>>2],a=_.framebuffers[n];a&&(v.deleteFramebuffer(a),a.name=0,_.framebuffers[n]=null)}},ho=po,yo=e=>{if(e){var r=_.programs[e];if(!r){_.recordError(1281);return}v.deleteProgram(r),r.name=0,_.programs[e]=null}},Eo=yo,bo=(e,r)=>{for(var t=0;t<e;t++){var n=c[r+t*4>>2],a=_.queries[n];a&&(v.disjointTimerQueryExt.deleteQueryEXT(a),_.queries[n]=null)}},wo=bo,ko=(e,r)=>{for(var t=0;t<e;t++){var n=c[r+t*4>>2],a=_.renderbuffers[n];a&&(v.deleteRenderbuffer(a),a.name=0,_.renderbuffers[n]=null)}},So=ko,Co=e=>{if(e){var r=_.shaders[e];if(!r){_.recordError(1281);return}v.deleteShader(r),_.shaders[e]=null}},xo=Co,Lo=(e,r)=>{for(var t=0;t<e;t++){var n=c[r+t*4>>2],a=_.textures[n];a&&(v.deleteTexture(a),a.name=0,_.textures[n]=null)}},Ao=Lo,Fo=(e,r)=>{for(var t=0;t<e;t++){var n=c[r+t*4>>2];v.deleteVertexArray(_.vaos[n]),_.vaos[n]=null}},Do=Fo,To=Do;function Po(e){v.depthFunc(e)}var Mo=Po,Ro=e=>{v.depthMask(!!e)},Bo=Ro;function Go(e,r){v.depthRange(e,r)}var Io=Go,Uo=(e,r)=>{v.detachShader(_.programs[e],_.shaders[r])},No=Uo;function Oo(e){v.disable(e)}var zo=Oo,jo=e=>{v.disableVertexAttribArray(e)},qo=jo,Ho=(e,r,t)=>{v.drawArrays(e,r,t)},Vo=Ho,Wo=(e,r,t,n)=>{v.drawArraysInstanced(e,r,t,n)},Xo=Wo,Yo=Xo,Yr=[],Qo=(e,r)=>{for(var t=Yr[e],n=0;n<e;n++)t[n]=c[r+n*4>>2];v.drawBuffers(t)},$o=Qo,Ko=$o,Jo=(e,r,t,n)=>{v.drawElements(e,r,t,n)},Zo=Jo,ei=(e,r,t,n,a)=>{v.drawElementsInstanced(e,r,t,n,a)},ri=ei,ti=ri;function ni(e){v.enable(e)}var ai=ni,oi=e=>{v.enableVertexAttribArray(e)},ii=oi,si=e=>{v.disjointTimerQueryExt.endQueryEXT(e)},li=si;function ui(){v.finish()}var ci=ui;function fi(){v.flush()}var di=fi,vi=(e,r,t,n)=>{v.framebufferRenderbuffer(e,r,t,_.renderbuffers[n])},mi=vi,gi=(e,r,t,n,a)=>{v.framebufferTexture2D(e,r,t,_.textures[n],a)},_i=gi;function pi(e){v.frontFace(e)}var hi=pi,Se=(e,r,t,n)=>{for(var a=0;a<e;a++){var o=v[t](),s=o&&_.getNewId(n);o?(o.name=s,n[s]=o):_.recordError(1282),c[r+a*4>>2]=s}},yi=(e,r)=>{Se(e,r,"createBuffer",_.buffers)},Ei=yi,bi=(e,r)=>{Se(e,r,"createFramebuffer",_.framebuffers)},wi=bi,ki=(e,r)=>{for(var t=0;t<e;t++){var n=v.disjointTimerQueryExt.createQueryEXT();if(!n){for(_.recordError(1282);t<e;)c[r+t++*4>>2]=0;return}var a=_.getNewId(_.queries);n.name=a,_.queries[a]=n,c[r+t*4>>2]=a}},Si=ki,Ci=(e,r)=>{Se(e,r,"createRenderbuffer",_.renderbuffers)},xi=Ci,Li=(e,r)=>{Se(e,r,"createTexture",_.textures)},Ai=Li;function Fi(e,r){Se(e,r,"createVertexArray",_.vaos)}var Di=Fi,Ti=Di;function Pi(e){v.generateMipmap(e)}var Mi=Pi,Qr=(e,r,t,n,a,o,s,l)=>{r=_.programs[r];var f=v[e](r,t);if(f){var d=l&&G(f.name,l,n);a&&(c[a>>2]=d),o&&(c[o>>2]=f.size),s&&(c[s>>2]=f.type)}},Ri=(e,r,t,n,a,o,s)=>{Qr("getActiveAttrib",e,r,t,n,a,o,s)},Bi=Ri,Gi=(e,r,t,n,a,o,s)=>{Qr("getActiveUniform",e,r,t,n,a,o,s)},Ii=Gi,Ui=(e,r,t,n)=>{var a=v.getAttachedShaders(_.programs[e]),o=a.length;o>r&&(o=r),c[t>>2]=o;for(var s=0;s<o;++s){var l=_.shaders.indexOf(a[s]);c[n+s*4>>2]=l}},Ni=Ui,Oi=(e,r)=>v.getAttribLocation(_.programs[e],V(r)),zi=Oi,$r=(e,r)=>{F[e>>2]=r;var t=F[e>>2];F[e+4>>2]=(r-t)/4294967296},ir=(e,r,t)=>{if(!r){_.recordError(1281);return}var n=void 0;switch(e){case 36346:n=1;break;case 36344:t!=0&&t!=1&&_.recordError(1280);return;case 36345:n=0;break;case 34466:var a=v.getParameter(34467);n=a?a.length:0;break}if(n===void 0){var o=v.getParameter(e);switch(typeof o){case"number":n=o;break;case"boolean":n=o?1:0;break;case"string":_.recordError(1280);return;case"object":if(o===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:{n=0;break}default:{_.recordError(1280);return}}else if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var s=0;s<o.length;++s)switch(t){case 0:c[r+s*4>>2]=o[s];break;case 2:C[r+s*4>>2]=o[s];break;case 4:q[r+s>>0]=o[s]?1:0;break}return}else try{n=o.name|0}catch(l){_.recordError(1280),ee(`GL_INVALID_ENUM in glGet${t}v: Unknown object returned from WebGL getParameter(${e})! (error: ${l})`);return}break;default:_.recordError(1280),ee(`GL_INVALID_ENUM in glGet${t}v: Native code calling glGet${t}v(${e}) and it returns ${o} of type ${typeof o}!`);return}}switch(t){case 1:$r(r,n);break;case 0:c[r>>2]=n;break;case 2:C[r>>2]=n;break;case 4:q[r>>0]=n?1:0;break}},ji=(e,r)=>ir(e,r,4),qi=ji,Hi=(e,r,t)=>{if(!t){_.recordError(1281);return}c[t>>2]=v.getBufferParameter(e,r)},Vi=Hi,Wi=()=>{var e=v.getError()||_.lastError;return _.lastError=0,e},Xi=Wi,Yi=(e,r)=>ir(e,r,2),Qi=Yi,$i=(e,r,t,n)=>{var a=v.getFramebufferAttachmentParameter(e,r,t);(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),c[n>>2]=a},Ki=$i,Ji=(e,r)=>ir(e,r,0),Zi=Ji,es=(e,r,t,n)=>{var a=v.getProgramInfoLog(_.programs[e]);a===null&&(a="(unknown error)");var o=r>0&&n?G(a,n,r):0;t&&(c[t>>2]=o)},rs=es,ts=(e,r,t)=>{if(!t){_.recordError(1281);return}if(e>=_.counter){_.recordError(1281);return}if(e=_.programs[e],r==35716){var n=v.getProgramInfoLog(e);n===null&&(n="(unknown error)"),c[t>>2]=n.length+1}else if(r==35719){if(!e.maxUniformLength)for(var a=0;a<v.getProgramParameter(e,35718);++a)e.maxUniformLength=Math.max(e.maxUniformLength,v.getActiveUniform(e,a).name.length+1);c[t>>2]=e.maxUniformLength}else if(r==35722){if(!e.maxAttributeLength)for(var a=0;a<v.getProgramParameter(e,35721);++a)e.maxAttributeLength=Math.max(e.maxAttributeLength,v.getActiveAttrib(e,a).name.length+1);c[t>>2]=e.maxAttributeLength}else if(r==35381){if(!e.maxUniformBlockNameLength)for(var a=0;a<v.getProgramParameter(e,35382);++a)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,v.getActiveUniformBlockName(e,a).length+1);c[t>>2]=e.maxUniformBlockNameLength}else c[t>>2]=v.getProgramParameter(e,r)},ns=ts,Kr=(e,r,t)=>{if(!t){_.recordError(1281);return}var n=_.queries[e],a;a=v.disjointTimerQueryExt.getQueryObjectEXT(n,r);var o;typeof a=="boolean"?o=a?1:0:o=a,$r(t,o)},as=Kr,Jr=(e,r,t)=>{if(!t){_.recordError(1281);return}var n=_.queries[e],a=v.disjointTimerQueryExt.getQueryObjectEXT(n,r),o;typeof a=="boolean"?o=a?1:0:o=a,c[t>>2]=o},os=Jr,is=Kr,ss=is,ls=Jr,us=ls,cs=(e,r,t)=>{if(!t){_.recordError(1281);return}c[t>>2]=v.disjointTimerQueryExt.getQueryEXT(e,r)},fs=cs,ds=(e,r,t)=>{if(!t){_.recordError(1281);return}c[t>>2]=v.getRenderbufferParameter(e,r)},vs=ds,ms=(e,r,t,n)=>{var a=v.getShaderInfoLog(_.shaders[e]);a===null&&(a="(unknown error)");var o=r>0&&n?G(a,n,r):0;t&&(c[t>>2]=o)},gs=ms,_s=(e,r,t,n)=>{var a=v.getShaderPrecisionFormat(e,r);c[t>>2]=a.rangeMin,c[t+4>>2]=a.rangeMax,c[n>>2]=a.precision},ps=_s,hs=(e,r,t,n)=>{var a=v.getShaderSource(_.shaders[e]);if(a){var o=r>0&&n?G(a,n,r):0;t&&(c[t>>2]=o)}},ys=hs,Es=(e,r,t)=>{if(!t){_.recordError(1281);return}if(r==35716){var n=v.getShaderInfoLog(_.shaders[e]);n===null&&(n="(unknown error)");var a=n?n.length+1:0;c[t>>2]=a}else if(r==35720){var o=v.getShaderSource(_.shaders[e]),s=o?o.length+1:0;c[t>>2]=s}else c[t>>2]=v.getShaderParameter(_.shaders[e],r)},bs=Es,ws=function(){var r=Or(v);return r=r.concat(r.map(t=>"GL_"+t)),r},ks=e=>{var r=_.stringCache[e];if(!r){switch(e){case 7939:r=ne(ws().join(" "));break;case 7936:case 7937:case 37445:case 37446:var t=v.getParameter(e);t||_.recordError(1280),r=t?ne(t):0;break;case 7938:var n=v.getParameter(7938);n=`OpenGL ES 2.0 (${n})`,r=ne(n);break;case 35724:var a=v.getParameter(35724),o=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/,s=a.match(o);s!==null&&(s[1].length==3&&(s[1]=s[1]+"0"),a=`OpenGL ES GLSL ES ${s[1]} (${a})`),r=ne(a);break;default:_.recordError(1280)}_.stringCache[e]=r}return r},Ss=ks,Cs=(e,r,t)=>{if(!t){_.recordError(1281);return}C[t>>2]=v.getTexParameter(e,r)},xs=Cs,Ls=(e,r,t)=>{if(!t){_.recordError(1281);return}c[t>>2]=v.getTexParameter(e,r)},As=Ls,Fs=e=>parseInt(e),Zr=e=>e.slice(-1)=="]"&&e.lastIndexOf("["),et=e=>{var r=e.uniformLocsById,t=e.uniformSizeAndIdsByName,n,a;if(!r)for(e.uniformLocsById=r={},e.uniformArrayNamesById={},n=0;n<v.getProgramParameter(e,35718);++n){var o=v.getActiveUniform(e,n),s=o.name,l=o.size,f=Zr(s),d=f>0?s.slice(0,f):s,m=e.uniformIdCounter;for(e.uniformIdCounter+=l,t[d]=[l,m],a=0;a<l;++a)r[m]=a,e.uniformArrayNamesById[m++]=d}},Ds=(e,r)=>{if(r=V(r),e=_.programs[e]){et(e);var t=e.uniformLocsById,n=0,a=r,o=Zr(r);o>0&&(n=Fs(r.slice(o+1))>>>0,a=r.slice(0,o));var s=e.uniformSizeAndIdsByName[a];if(s&&n<s[0]&&(n+=s[1],t[n]=t[n]||v.getUniformLocation(e,r)))return n}else _.recordError(1281);return-1},Ts=Ds,z=e=>{var r=v.currentProgram;if(r){var t=r.uniformLocsById[e];return typeof t=="number"&&(r.uniformLocsById[e]=t=v.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?`[${t}]`:""))),t}else _.recordError(1282)},rt=(e,r,t,n)=>{if(!t){_.recordError(1281);return}e=_.programs[e],et(e);var a=v.getUniform(e,z(r));if(typeof a=="number"||typeof a=="boolean")switch(n){case 0:c[t>>2]=a;break;case 2:C[t>>2]=a;break}else for(var o=0;o<a.length;o++)switch(n){case 0:c[t+o*4>>2]=a[o];break;case 2:C[t+o*4>>2]=a[o];break}},Ps=(e,r,t)=>{rt(e,r,t,2)},Ms=Ps,Rs=(e,r,t)=>{rt(e,r,t,0)},Bs=Rs,Gs=(e,r,t)=>{if(!t){_.recordError(1281);return}c[t>>2]=v.getVertexAttribOffset(e,r)},Is=Gs,tt=(e,r,t,n)=>{if(!t){_.recordError(1281);return}var a=v.getVertexAttrib(e,r);if(r==34975)c[t>>2]=a&&a.name;else if(typeof a=="number"||typeof a=="boolean")switch(n){case 0:c[t>>2]=a;break;case 2:C[t>>2]=a;break;case 5:c[t>>2]=Math.fround(a);break}else for(var o=0;o<a.length;o++)switch(n){case 0:c[t+o*4>>2]=a[o];break;case 2:C[t+o*4>>2]=a[o];break;case 5:c[t+o*4>>2]=Math.fround(a[o]);break}},Us=(e,r,t)=>{tt(e,r,t,2)},Ns=Us,Os=(e,r,t)=>{tt(e,r,t,5)},zs=Os;function js(e,r){v.hint(e,r)}var qs=js,Hs=e=>{var r=_.buffers[e];return r?v.isBuffer(r):0},Vs=Hs;function Ws(e){return v.isEnabled(e)}var Xs=Ws,Ys=e=>{var r=_.framebuffers[e];return r?v.isFramebuffer(r):0},Qs=Ys,$s=e=>(e=_.programs[e],e?v.isProgram(e):0),Ks=$s,Js=e=>{var r=_.queries[e];return r?v.disjointTimerQueryExt.isQueryEXT(r):0},Zs=Js,el=e=>{var r=_.renderbuffers[e];return r?v.isRenderbuffer(r):0},rl=el,tl=e=>{var r=_.shaders[e];return r?v.isShader(r):0},nl=tl,al=e=>{var r=_.textures[e];return r?v.isTexture(r):0},ol=al,il=e=>{var r=_.vaos[e];return r?v.isVertexArray(r):0},sl=il,ll=sl;function ul(e){v.lineWidth(e)}var cl=ul,fl=e=>{e=_.programs[e],v.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},dl=fl,vl=(e,r)=>{e==3317&&(_.unpackAlignment=r),v.pixelStorei(e,r)},ml=vl;function gl(e,r){v.polygonOffset(e,r)}var _l=gl,pl=(e,r)=>{v.disjointTimerQueryExt.queryCounterEXT(_.queries[e],r)},hl=pl,yl=(e,r,t,n)=>{function a(l,f){return l+f-1&-f}var o=e*t,s=a(o,n);return r*s},El=e=>{var r={5:3,6:4,8:2,29502:3,29504:4};return r[e-6402]||1},bl=e=>(e-=5120,e==1?Y:e==4?c:e==6?C:e==5||e==28922?F:yr),wl=e=>31-Math.clz32(e.BYTES_PER_ELEMENT),sr=(e,r,t,n,a,o)=>{var s=bl(e),l=wl(s),f=1<<l,d=El(r)*f,m=yl(t,n,d,_.unpackAlignment);return s.subarray(a>>l,a+m>>l)},kl=(e,r,t,n,a,o,s)=>{var l=sr(o,a,t,n,s);if(!l){_.recordError(1280);return}v.readPixels(e,r,t,n,a,o,l)},Sl=kl,Cl=()=>{},xl=Cl;function Ll(e,r,t,n){v.renderbufferStorage(e,r,t,n)}var Al=Ll,Fl=(e,r)=>{v.sampleCoverage(e,!!r)},Dl=Fl;function Tl(e,r,t,n){v.scissor(e,r,t,n)}var Pl=Tl,Ml=(e,r,t,n,a)=>{_.recordError(1280)},Rl=Ml,Bl=(e,r,t,n)=>{var a=_.getSource(e,r,t,n);v.shaderSource(_.shaders[e],a)},Gl=Bl;function Il(e,r,t){v.stencilFunc(e,r,t)}var Ul=Il;function Nl(e,r,t,n){v.stencilFuncSeparate(e,r,t,n)}var Ol=Nl;function zl(e){v.stencilMask(e)}var jl=zl;function ql(e,r){v.stencilMaskSeparate(e,r)}var Hl=ql;function Vl(e,r,t){v.stencilOp(e,r,t)}var Wl=Vl;function Xl(e,r,t,n){v.stencilOpSeparate(e,r,t,n)}var Yl=Xl,Ql=(e,r,t,n,a,o,s,l,f)=>{v.texImage2D(e,r,t,n,a,o,s,l,f?sr(l,s,n,a,f):null)},$l=Ql;function Kl(e,r,t){v.texParameterf(e,r,t)}var Jl=Kl,Zl=(e,r,t)=>{var n=C[t>>2];v.texParameterf(e,r,n)},eu=Zl;function ru(e,r,t){v.texParameteri(e,r,t)}var tu=ru,nu=(e,r,t)=>{var n=c[t>>2];v.texParameteri(e,r,n)},au=nu,ou=(e,r,t,n,a,o,s,l,f)=>{var d=null;f&&(d=sr(l,s,a,o,f)),v.texSubImage2D(e,r,t,n,a,o,s,l,d)},iu=ou,su=(e,r)=>{v.uniform1f(z(e),r)},lu=su,le=[],uu=(e,r,t)=>{if(r<=288)for(var n=le[r-1],a=0;a<r;++a)n[a]=C[t+4*a>>2];else var n=C.subarray(t>>2,t+r*4>>2);v.uniform1fv(z(e),n)},cu=uu,fu=(e,r)=>{v.uniform1i(z(e),r)},du=fu,Ce=[],vu=(e,r,t)=>{if(r<=288)for(var n=Ce[r-1],a=0;a<r;++a)n[a]=c[t+4*a>>2];else var n=c.subarray(t>>2,t+r*4>>2);v.uniform1iv(z(e),n)},mu=vu,gu=(e,r,t)=>{v.uniform2f(z(e),r,t)},_u=gu,pu=(e,r,t)=>{if(r<=144)for(var n=le[2*r-1],a=0;a<2*r;a+=2)n[a]=C[t+4*a>>2],n[a+1]=C[t+(4*a+4)>>2];else var n=C.subarray(t>>2,t+r*8>>2);v.uniform2fv(z(e),n)},hu=pu,yu=(e,r,t)=>{v.uniform2i(z(e),r,t)},Eu=yu,bu=(e,r,t)=>{if(r<=144)for(var n=Ce[2*r-1],a=0;a<2*r;a+=2)n[a]=c[t+4*a>>2],n[a+1]=c[t+(4*a+4)>>2];else var n=c.subarray(t>>2,t+r*8>>2);v.uniform2iv(z(e),n)},wu=bu,ku=(e,r,t,n)=>{v.uniform3f(z(e),r,t,n)},Su=ku,Cu=(e,r,t)=>{if(r<=96)for(var n=le[3*r-1],a=0;a<3*r;a+=3)n[a]=C[t+4*a>>2],n[a+1]=C[t+(4*a+4)>>2],n[a+2]=C[t+(4*a+8)>>2];else var n=C.subarray(t>>2,t+r*12>>2);v.uniform3fv(z(e),n)},xu=Cu,Lu=(e,r,t,n)=>{v.uniform3i(z(e),r,t,n)},Au=Lu,Fu=(e,r,t)=>{if(r<=96)for(var n=Ce[3*r-1],a=0;a<3*r;a+=3)n[a]=c[t+4*a>>2],n[a+1]=c[t+(4*a+4)>>2],n[a+2]=c[t+(4*a+8)>>2];else var n=c.subarray(t>>2,t+r*12>>2);v.uniform3iv(z(e),n)},Du=Fu,Tu=(e,r,t,n,a)=>{v.uniform4f(z(e),r,t,n,a)},Pu=Tu,Mu=(e,r,t)=>{if(r<=72){var n=le[4*r-1],a=C;t>>=2;for(var o=0;o<4*r;o+=4){var s=t+o;n[o]=a[s],n[o+1]=a[s+1],n[o+2]=a[s+2],n[o+3]=a[s+3]}}else var n=C.subarray(t>>2,t+r*16>>2);v.uniform4fv(z(e),n)},Ru=Mu,Bu=(e,r,t,n,a)=>{v.uniform4i(z(e),r,t,n,a)},Gu=Bu,Iu=(e,r,t)=>{if(r<=72)for(var n=Ce[4*r-1],a=0;a<4*r;a+=4)n[a]=c[t+4*a>>2],n[a+1]=c[t+(4*a+4)>>2],n[a+2]=c[t+(4*a+8)>>2],n[a+3]=c[t+(4*a+12)>>2];else var n=c.subarray(t>>2,t+r*16>>2);v.uniform4iv(z(e),n)},Uu=Iu,Nu=(e,r,t,n)=>{if(r<=72)for(var a=le[4*r-1],o=0;o<4*r;o+=4)a[o]=C[n+4*o>>2],a[o+1]=C[n+(4*o+4)>>2],a[o+2]=C[n+(4*o+8)>>2],a[o+3]=C[n+(4*o+12)>>2];else var a=C.subarray(n>>2,n+r*16>>2);v.uniformMatrix2fv(z(e),!!t,a)},Ou=Nu,zu=(e,r,t,n)=>{if(r<=32)for(var a=le[9*r-1],o=0;o<9*r;o+=9)a[o]=C[n+4*o>>2],a[o+1]=C[n+(4*o+4)>>2],a[o+2]=C[n+(4*o+8)>>2],a[o+3]=C[n+(4*o+12)>>2],a[o+4]=C[n+(4*o+16)>>2],a[o+5]=C[n+(4*o+20)>>2],a[o+6]=C[n+(4*o+24)>>2],a[o+7]=C[n+(4*o+28)>>2],a[o+8]=C[n+(4*o+32)>>2];else var a=C.subarray(n>>2,n+r*36>>2);v.uniformMatrix3fv(z(e),!!t,a)},ju=zu,qu=(e,r,t,n)=>{if(r<=18){var a=le[16*r-1],o=C;n>>=2;for(var s=0;s<16*r;s+=16){var l=n+s;a[s]=o[l],a[s+1]=o[l+1],a[s+2]=o[l+2],a[s+3]=o[l+3],a[s+4]=o[l+4],a[s+5]=o[l+5],a[s+6]=o[l+6],a[s+7]=o[l+7],a[s+8]=o[l+8],a[s+9]=o[l+9],a[s+10]=o[l+10],a[s+11]=o[l+11],a[s+12]=o[l+12],a[s+13]=o[l+13],a[s+14]=o[l+14],a[s+15]=o[l+15]}}else var a=C.subarray(n>>2,n+r*64>>2);v.uniformMatrix4fv(z(e),!!t,a)},Hu=qu,Vu=e=>{e=_.programs[e],v.useProgram(e),v.currentProgram=e},Wu=Vu,Xu=e=>{v.validateProgram(_.programs[e])},Yu=Xu;function Qu(e,r){v.vertexAttrib1f(e,r)}var $u=Qu,Ku=(e,r)=>{v.vertexAttrib1f(e,C[r>>2])},Ju=Ku;function Zu(e,r,t){v.vertexAttrib2f(e,r,t)}var ec=Zu,rc=(e,r)=>{v.vertexAttrib2f(e,C[r>>2],C[r+4>>2])},tc=rc;function nc(e,r,t,n){v.vertexAttrib3f(e,r,t,n)}var ac=nc,oc=(e,r)=>{v.vertexAttrib3f(e,C[r>>2],C[r+4>>2],C[r+8>>2])},ic=oc;function sc(e,r,t,n,a){v.vertexAttrib4f(e,r,t,n,a)}var lc=sc,uc=(e,r)=>{v.vertexAttrib4f(e,C[r>>2],C[r+4>>2],C[r+8>>2],C[r+12>>2])},cc=uc,fc=(e,r)=>{v.vertexAttribDivisor(e,r)},dc=fc,vc=dc,mc=(e,r,t,n,a,o)=>{v.vertexAttribPointer(e,r,t,!!n,a,o)},gc=mc;function _c(e,r,t,n){v.viewport(e,r,t,n)}var pc=_c,hc=()=>0,yc=(e,r,t)=>Y.copyWithin(e,r,r+t),Ec=()=>{g.mainLoop.pause()},bc=(e,r)=>{if(!y.fullscreenEnabled())return-1;if(e=X(e),!e)return-4;if(!e.requestFullscreen&&!e.webkitRequestFullscreen)return-3;var t=y.canPerformEventHandlerRequests();return t?ar(e,r):r.deferUntilInEventHandler?(y.deferCall(ar,1,[e,r]),1):-2},wc=(e,r,t)=>{var n={scaleMode:c[t>>2],canvasResolutionScaleMode:c[t+4>>2],filteringMode:c[t+8>>2],deferUntilInEventHandler:r,canvasResizedCallback:c[t+12>>2],canvasResizedCallbackUserData:c[t+16>>2]};return bc(e,n)},kc=(e,r)=>{if(e=X(e),!e)return-4;if(!e.requestPointerLock)return-1;var t=y.canPerformEventHandlerRequests();return t?or(e):r?(y.deferCall(or,2,[e]),1):-2},Sc=()=>2147483648,Cc=e=>{var r=Fe.buffer,t=(e-r.byteLength+65535)/65536;try{return Fe.grow(t),Er(),1}catch{}},xc=e=>{var r=Y.length;e>>>=0;var t=Sc();if(e>t)return!1;for(var n=(f,d)=>f+(d-f%d)%d,a=1;a<=4;a*=2){var o=r*(1+.2/a);o=Math.min(o,e+100663296);var s=Math.min(t,n(Math.max(e,o),65536)),l=Cc(s);if(l)return!0}return!1},Lc=()=>{g.mainLoop.resume()},lr=()=>{try{if(navigator.getGamepads)return(y.lastGamepadState=navigator.getGamepads())?0:-1}catch{navigator.getGamepads=null}return-1},Ac=(e,r,t,n,a,o)=>{var s=(f=event)=>{var d=T(n)(a,0,r);if(d&&(d=V(d)),d)return f.preventDefault(),f.returnValue=d,d},l={target:X(e),eventTypeString:o,callbackfunc:n,handlerFunc:s,useCapture:t};return y.registerOrRemoveHandler(l)},Fc=(e,r,t)=>typeof onbeforeunload>"u"?-1:t!==1?-5:Ac(2,e,!0,r,28,"beforeunload"),nt=(e,r,t,n,a,o,s)=>{y.focusEvent||(y.focusEvent=$(256));var l=(d=event)=>{var m=y.getNodeNameForTarget(d.target),p=d.target.id?d.target.id:"",b=y.focusEvent;G(m,b+0,128),G(p,b+128,128),T(n)(a,b,r)&&d.preventDefault()},f={target:X(e),eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Dc=(e,r,t,n,a)=>nt(e,r,t,n,12,"blur"),Tc=(e,r,t)=>(e=X(e),e?(e.style.width=r+"px",e.style.height=t+"px",0):-4),Pc=(e,r,t,n,a)=>nt(e,r,t,n,13,"focus"),Mc=e=>{var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;c[e>>2]=t,c[e+4>>2]=y.fullscreenEnabled();var n=t?r:y.previousFullscreenElement,a=y.getNodeNameForTarget(n),o=(n==null?void 0:n.id)||"";G(a,e+8,128),G(o,e+136,128),c[e+264>>2]=n?n.clientWidth:0,c[e+268>>2]=n?n.clientHeight:0,c[e+272>>2]=screen.width,c[e+276>>2]=screen.height,t&&(y.previousFullscreenElement=r)},at=(e,r,t,n,a,o,s)=>{y.fullscreenChangeEvent||(y.fullscreenChangeEvent=$(280));var l=(d=event)=>{var m=y.fullscreenChangeEvent;Mc(m),T(n)(a,m,r)&&d.preventDefault()},f={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Rc=(e,r,t,n,a)=>y.fullscreenEnabled()?(e=X(e),e?(at(e,r,t,n,19,"webkitfullscreenchange"),at(e,r,t,n,19,"fullscreenchange")):-4):-1,ot=(e,r,t,n,a,o,s)=>{y.gamepadEvent||(y.gamepadEvent=$(1432));var l=(d=event)=>{var m=y.gamepadEvent;Xr(m,d.gamepad),T(n)(a,m,r)&&d.preventDefault()},f={target:X(e),allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Bc=(e,r,t,n)=>lr()?-1:ot(2,e,r,t,26,"gamepadconnected"),Gc=(e,r,t,n)=>lr()?-1:ot(2,e,r,t,27,"gamepaddisconnected"),ur=(e,r,t,n,a,o,s)=>{y.keyEvent||(y.keyEvent=$(176));var l=d=>{var m=y.keyEvent;W[m>>3]=d.timeStamp;var p=m>>2;c[p+2]=d.location,c[p+3]=d.ctrlKey,c[p+4]=d.shiftKey,c[p+5]=d.altKey,c[p+6]=d.metaKey,c[p+7]=d.repeat,c[p+8]=d.charCode,c[p+9]=d.keyCode,c[p+10]=d.which,G(d.key||"",m+44,32),G(d.code||"",m+76,32),G(d.char||"",m+108,32),G(d.locale||"",m+140,32),T(n)(a,m,r)&&d.preventDefault()},f={target:X(e),eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Ic=(e,r,t,n,a)=>ur(e,r,t,n,2,"keydown"),Uc=(e,r,t,n,a)=>ur(e,r,t,n,1,"keypress"),Nc=(e,r,t,n,a)=>ur(e,r,t,n,3,"keyup"),Oc=(e,r,t)=>{var n=T(e);Br(n,r,t)},it=(e,r,t)=>{W[e>>3]=r.timeStamp;var n=e>>2;c[n+2]=r.screenX,c[n+3]=r.screenY,c[n+4]=r.clientX,c[n+5]=r.clientY,c[n+6]=r.ctrlKey,c[n+7]=r.shiftKey,c[n+8]=r.altKey,c[n+9]=r.metaKey,ie[n*2+20]=r.button,ie[n*2+21]=r.buttons,c[n+11]=r.movementX,c[n+12]=r.movementY;var a=Be(t);c[n+13]=r.clientX-a.left,c[n+14]=r.clientY-a.top},xe=(e,r,t,n,a,o,s)=>{y.mouseEvent||(y.mouseEvent=$(72)),e=X(e);var l=(d=event)=>{it(y.mouseEvent,d,e),T(n)(a,y.mouseEvent,r)&&d.preventDefault()},f={target:e,allowsDeferredCalls:o!="mousemove"&&o!="mouseenter"&&o!="mouseleave",eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},zc=(e,r,t,n,a)=>xe(e,r,t,n,5,"mousedown"),jc=(e,r,t,n,a)=>xe(e,r,t,n,33,"mouseenter"),qc=(e,r,t,n,a)=>xe(e,r,t,n,34,"mouseleave"),Hc=(e,r,t,n,a)=>xe(e,r,t,n,8,"mousemove"),Vc=(e,r,t,n,a)=>xe(e,r,t,n,6,"mouseup"),Wc=e=>{var r=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,t=!!r;c[e>>2]=t;var n=y.getNodeNameForTarget(r),a=(r==null?void 0:r.id)||"";G(n,e+4,128),G(a,e+132,128)},Ge=(e,r,t,n,a,o,s)=>{y.pointerlockChangeEvent||(y.pointerlockChangeEvent=$(260));var l=(d=event)=>{var m=y.pointerlockChangeEvent;Wc(m),T(n)(a,m,r)&&d.preventDefault()},f={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Xc=(e,r,t,n,a)=>!document||!document.body||!document.body.requestPointerLock&&!document.body.mozRequestPointerLock&&!document.body.webkitRequestPointerLock&&!document.body.msRequestPointerLock?-1:(e=X(e),e?(Ge(e,r,t,n,20,"mozpointerlockchange"),Ge(e,r,t,n,20,"webkitpointerlockchange"),Ge(e,r,t,n,20,"mspointerlockchange"),Ge(e,r,t,n,20,"pointerlockchange")):-4),Yc=(e,r,t,n,a,o,s)=>{y.uiEvent||(y.uiEvent=$(36)),e=X(e);var l=(d=event)=>{if(d.target==e){var m=document.body;if(m){var p=y.uiEvent;c[p>>2]=d.detail,c[p+4>>2]=m.clientWidth,c[p+8>>2]=m.clientHeight,c[p+12>>2]=innerWidth,c[p+16>>2]=innerHeight,c[p+20>>2]=outerWidth,c[p+24>>2]=outerHeight,c[p+28>>2]=pageXOffset,c[p+32>>2]=pageYOffset,T(n)(a,p,r)&&d.preventDefault()}}},f={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},Qc=(e,r,t,n,a)=>Yc(e,r,t,n,10,"resize"),Ie=(e,r,t,n,a,o,s)=>{y.touchEvent||(y.touchEvent=$(1696)),e=X(e);var l=d=>{for(var m,p={},b=d.touches,h=0;h<b.length;++h)m=b[h],m.isChanged=m.onTarget=0,p[m.identifier]=m;for(var h=0;h<d.changedTouches.length;++h)m=d.changedTouches[h],m.isChanged=1,p[m.identifier]=m;for(var h=0;h<d.targetTouches.length;++h)p[d.targetTouches[h].identifier].onTarget=1;var E=y.touchEvent;W[E>>3]=d.timeStamp;var k=E>>2;c[k+3]=d.ctrlKey,c[k+4]=d.shiftKey,c[k+5]=d.altKey,c[k+6]=d.metaKey,k+=7;var I=Be(e),B=0;for(var h in p)if(m=p[h],c[k+0]=m.identifier,c[k+1]=m.screenX,c[k+2]=m.screenY,c[k+3]=m.clientX,c[k+4]=m.clientY,c[k+5]=m.pageX,c[k+6]=m.pageY,c[k+7]=m.isChanged,c[k+8]=m.onTarget,c[k+9]=m.clientX-I.left,c[k+10]=m.clientY-I.top,k+=13,++B>31)break;c[E+8>>2]=B,T(n)(a,E,r)&&d.preventDefault()},f={target:e,allowsDeferredCalls:o=="touchstart"||o=="touchend",eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},$c=(e,r,t,n,a)=>Ie(e,r,t,n,25,"touchcancel"),Kc=(e,r,t,n,a)=>Ie(e,r,t,n,23,"touchend"),Jc=(e,r,t,n,a)=>Ie(e,r,t,n,24,"touchmove"),Zc=(e,r,t,n,a)=>Ie(e,r,t,n,22,"touchstart"),ef=e=>{var r=["hidden","visible","prerender","unloaded"],t=r.indexOf(document.visibilityState);c[e>>2]=document.hidden,c[e+4>>2]=t},rf=(e,r,t,n,a,o,s)=>{y.visibilityChangeEvent||(y.visibilityChangeEvent=$(8));var l=(d=event)=>{var m=y.visibilityChangeEvent;ef(m),T(n)(a,m,r)&&d.preventDefault()},f={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},tf=(e,r,t,n)=>rf(Re[1],e,r,t,21,"visibilitychange"),nf=(e,r,t,n,a,o,s)=>{y.wheelEvent||(y.wheelEvent=$(104));var l=(d=event)=>{var m=y.wheelEvent;it(m,d,e),W[m+72>>3]=d.deltaX,W[m+80>>3]=d.deltaY,W[m+88>>3]=d.deltaZ,c[m+96>>2]=d.deltaMode,T(n)(a,m,r)&&d.preventDefault()},f={target:e,allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:l,useCapture:t};return y.registerOrRemoveHandler(f)},af=(e,r,t,n,a)=>(e=X(e),e?typeof e.onwheel<"u"?nf(e,r,t,n,9,"wheel"):-1:-4),of=e=>document.title=V(e),sf=()=>{throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},cr={},lf=()=>pr||"./this.program",Le=()=>{if(!Le.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:lf()};for(var t in cr)cr[t]===void 0?delete r[t]:r[t]=cr[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);Le.strings=n}return Le.strings},uf=(e,r)=>{for(var t=0;t<e.length;++t)q[r++>>0]=e.charCodeAt(t);q[r>>0]=0},cf=(e,r)=>{var t=0;return Le().forEach((n,a)=>{var o=r+t;F[e+a*4>>2]=o,uf(n,o),t+=n.length+1}),0},ff=(e,r)=>{var t=Le();F[e>>2]=t.length;var n=0;return t.forEach(a=>n+=a.length+1),F[r>>2]=n,0};function df(e){try{var r=x.getStreamFromFD(e);return i.close(r),0}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var vf=(e,r,t,n)=>{for(var a=0,o=0;o<t;o++){var s=F[r>>2],l=F[r+4>>2];r+=8;var f=i.read(e,q,s,l,n);if(f<0)return-1;if(a+=f,f<l)break}return a};function mf(e,r,t,n){try{var a=x.getStreamFromFD(e),o=vf(a,r,t);return F[n>>2]=o,0}catch(s){if(typeof i>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function gf(e,r,t,n,a){var o=pe(r,t);try{if(isNaN(o))return 61;var s=x.getStreamFromFD(e);return i.llseek(s,o,n),M=[s.position>>>0,(S=s.position,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],c[a>>2]=M[0],c[a+4>>2]=M[1],s.getdents&&o===0&&n===0&&(s.getdents=null),0}catch(l){if(typeof i>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function _f(e){var t;try{var r=x.getStreamFromFD(e);return(t=r.stream_ops)!=null&&t.fsync?r.stream_ops.fsync(r):0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return n.errno}}var pf=(e,r,t,n)=>{for(var a=0,o=0;o<t;o++){var s=F[r>>2],l=F[r+4>>2];r+=8;var f=i.write(e,q,s,l,n);if(f<0)return-1;a+=f}return a};function hf(e,r,t,n){try{var a=x.getStreamFromFD(e),o=pf(a,r,t);return F[n>>2]=o,0}catch(s){if(typeof i>"u"||s.name!=="ErrnoError")throw s;return s.errno}}var st=e=>{var r=u["_"+e];return r},yf=(e,r)=>{q.set(e,r)},Ef=(e,r,t,n,a)=>{var o={string:E=>{var k=0;return E!=null&&E!==0&&(k=tr(E)),k},array:E=>{var k=Oe(E.length);return yf(E,k),k}};function s(E){return r==="string"?V(E):r==="boolean"?!!E:E}var l=st(e),f=[],d=0;if(n)for(var m=0;m<n.length;m++){var p=o[t[m]];p?(d===0&&(d=K()),f[m]=p(n[m])):f[m]=n[m]}var b=l.apply(null,f);function h(E){return d!==0&&J(d),s(E)}return b=h(b),b},P=(e,r,t,n)=>{var a=!t||t.every(s=>s==="number"||s==="boolean"),o=r!=="string";return o&&a&&!n?st(e):function(){return Ef(e,r,t,arguments)}},lt=(e,r)=>{e<128?r.push(e):r.push(e%128|128,e>>7)},bf=e=>{for(var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},t={parameters:[],results:e[0]=="v"?[]:[r[e[0]]]},n=1;n<e.length;++n)t.parameters.push(r[e[n]]);return t},wf=(e,r)=>{var t=e.slice(0,1),n=e.slice(1),a={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96),lt(n.length,r);for(var o=0;o<n.length;++o)r.push(a[n[o]]);t=="v"?r.push(0):r.push(1,a[t])},kf=(e,r)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(bf(r),e);var t=[1];wf(r,t);var n=[0,97,115,109,1,0,0,0,1];lt(t.length,n),n.push.apply(n,t),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var a=new WebAssembly.Module(new Uint8Array(n)),o=new WebAssembly.Instance(a,{e:{f:e}}),s=o.exports.f;return s},Sf=(e,r)=>{if(ve)for(var t=e;t<e+r;t++){var n=T(t);n&&ve.set(n,t)}},ve,Cf=e=>(ve||(ve=new WeakMap,Sf(0,fe.length)),ve.get(e)||0),fr=[],xf=()=>{if(fr.length)return fr.pop();try{fe.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return fe.length-1},dr=(e,r)=>{fe.set(e,r),ke[e]=fe.get(e)},ut=(e,r)=>{var t=Cf(e);if(t)return t;var n=xf();try{dr(n,e)}catch(o){if(!(o instanceof TypeError))throw o;var a=kf(e,r);dr(n,a)}return ve.set(e,n),n},ct=e=>{ve.delete(T(e)),dr(e,null),fr.push(e)},ft=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=i.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},Ue=365,Ne=146;Object.defineProperties(ft.prototype,{read:{get:function(){return(this.mode&Ue)===Ue},set:function(e){e?this.mode|=Ue:this.mode&=~Ue}},write:{get:function(){return(this.mode&Ne)===Ne},set:function(e){e?this.mode|=Ne:this.mode&=~Ne}},isFolder:{get:function(){return i.isDir(this.mode)}},isDevice:{get:function(){return i.isChrdev(this.mode)}}}),i.FSNode=ft,i.createPreloadedFile=jt,i.staticInit(),u.requestFullscreen=g.requestFullscreen,u.requestAnimationFrame=g.requestAnimationFrame,u.setCanvasSize=g.setCanvasSize,u.pauseMainLoop=g.mainLoop.pause,u.resumeMainLoop=g.mainLoop.resume,u.getUserMedia=g.getUserMedia,u.createContext=g.createContext;for(var v,Q=0;Q<32;++Q)Yr.push(new Array(Q));for(var Lf=new Float32Array(288),Q=0;Q<288;++Q)le[Q]=Lf.subarray(0,Q+1);for(var Af=new Int32Array(288),Q=0;Q<288;++Q)Ce[Q]=Af.subarray(0,Q+1);var Ff={Q:Ht,rb:Vt,ab:Wt,mb:Xt,ib:Yt,sb:Qt,ob:$t,jb:Kt,pb:Jt,S:Zt,hb:en,fb:rn,qb:tn,gb:nn,db:an,tb:sn,bb:ln,Za:dn,_a:vn,Wa:mn,Xa:gn,Ya:_n,eb:pn,a:hn,Qa:wn,Ua:kn,Ga:An,Ja:Fn,Ha:Dn,Ka:Tn,Va:Pn,O:Mn,Fa:Rn,Ra:Bn,La:Gn,Ea:In,Ma:Un,Na:Nn,Ta:On,Pa:jn,Oa:qn,i:Vn,b:Xn,T:Yn,ya:Zn,Ca:ea,h:ra,e:ta,V:na,X:aa,l:Pe,Ub:oa,Da:ia,ea:la,da:ca,ua:da,ca:ma,ba:_a,aa:ha,$:Ea,_:wa,ma:Ca,Zd:La,Yd:Fa,Xd:Ta,Wd:Ma,Vd:Ba,Ud:Ia,Td:Na,Sd:za,Rd:qa,Qd:Va,Pd:Xa,Od:Qa,Nd:Ka,Md:Za,Ld:ro,Kd:no,Jd:oo,Id:so,Hd:uo,Gd:fo,Fd:mo,Ed:_o,Dd:ho,Cd:Eo,wa:wo,Bd:So,Ad:xo,zd:Ao,la:To,yd:Mo,xd:Bo,wd:Io,vd:No,ud:zo,td:qo,sd:Vo,ha:Yo,ia:Ko,rd:Zo,ga:ti,qd:ai,pd:ii,ta:li,od:ci,nd:di,md:mi,kd:_i,jd:hi,id:Ei,gd:wi,xa:Si,fd:xi,ed:Ai,ka:Ti,hd:Mi,dd:Bi,cd:Ii,bd:Ni,ad:zi,$c:qi,_c:Vi,Zc:Xi,Yc:Qi,Xc:Ki,Wc:Zi,Uc:rs,Vc:ns,oa:as,qa:os,na:ss,pa:us,ra:fs,Tc:vs,Rc:gs,Qc:ps,Pc:ys,Sc:bs,Oc:Ss,Nc:xs,Mc:As,Jc:Ts,Lc:Ms,Kc:Bs,Fc:Is,Hc:Ns,Gc:zs,Ec:qs,Dc:Vs,Cc:Xs,Bc:Qs,Ac:Ks,va:Zs,zc:rl,yc:nl,wc:ol,ja:ll,vc:cl,uc:dl,tc:ml,sc:_l,sa:hl,rc:Sl,qc:xl,pc:Al,oc:Dl,nc:Pl,mc:Rl,lc:Gl,kc:Ul,jc:Ol,ic:jl,hc:Hl,gc:Wl,fc:Yl,ec:$l,dc:Jl,cc:eu,bc:tu,ac:au,$b:iu,_b:lu,Zb:cu,Yb:du,Xb:mu,Wb:_u,Vb:hu,Tb:Eu,Sb:wu,Rb:Su,Qb:xu,Pb:Au,Ob:Du,Nb:Pu,Mb:Ru,Lb:Gu,Kb:Uu,Jb:Ou,Ib:ju,Hb:Hu,Gb:Wu,Fb:Yu,Eb:$u,Db:Ju,Cb:ec,Bb:tc,Ab:ac,zb:ic,yb:lc,xb:cc,fa:vc,wb:gc,vb:pc,o:hc,ub:yc,q:Ec,za:wc,N:kc,cb:xc,M:Lc,W:lr,s:Fc,E:Dc,g:Vr,m:Tc,F:Pc,v:Rc,U:Bc,R:Gc,y:Ic,w:Uc,x:Nc,Ba:Oc,Sa:he,K:zc,I:jc,H:qc,L:Hc,J:Vc,z:Xc,u:Qc,A:$c,C:Kc,B:Jc,D:Zc,t:tf,G:af,Aa:of,n:sf,kb:cf,lb:ff,Ia:Ur,j:df,P:mf,$a:gf,nb:_f,p:hf,Z:Rf,Y:If,c:Tf,r:Df,Ic:Uf,d:Pf,k:Gf,f:Mf,xc:Nf,ld:Bf},A=Dt();u._screenshot=e=>(u._screenshot=A.ae)(e),u._buttonPress=e=>(u._buttonPress=A.be)(e),u._buttonUnpress=e=>(u._buttonUnpress=A.ce)(e),u._setVolume=e=>(u._setVolume=A.de)(e),u._getVolume=()=>(u._getVolume=A.ee)(),u._getMainLoopTimingMode=()=>(u._getMainLoopTimingMode=A.fe)(),u._getMainLoopTimingValue=()=>(u._getMainLoopTimingValue=A.ge)(),u._setMainLoopTiming=(e,r)=>(u._setMainLoopTiming=A.he)(e,r),u._setFastForwardMultiplier=e=>(u._setFastForwardMultiplier=A.ie)(e),u._getFastForwardMultiplier=()=>(u._getFastForwardMultiplier=A.je)(),u._quitGame=()=>(u._quitGame=A.ke)(),u._quitMgba=()=>(u._quitMgba=A.le)(),u._quickReload=()=>(u._quickReload=A.me)(),u._pauseGame=()=>(u._pauseGame=A.ne)(),u._resumeGame=()=>(u._resumeGame=A.oe)(),u._setEventEnable=e=>(u._setEventEnable=A.pe)(e),u._bindKey=(e,r)=>(u._bindKey=A.qe)(e,r),u._saveState=e=>(u._saveState=A.re)(e),u._loadState=e=>(u._loadState=A.se)(e),u._autoLoadCheats=()=>(u._autoLoadCheats=A.te)(),u._loadGame=e=>(u._loadGame=A.ue)(e),u._saveStateSlot=(e,r)=>(u._saveStateSlot=A.ve)(e,r),u._loadStateSlot=(e,r)=>(u._loadStateSlot=A.we)(e,r),u._addCoreCallbacks=(e,r,t,n,a,o)=>(u._addCoreCallbacks=A.xe)(e,r,t,n,a,o),u._setupConstants=()=>(u._setupConstants=A.ye)();var dt=u._main=(e,r)=>(dt=u._main=A.ze)(e,r),$=e=>($=A.Be)(e),vt=e=>(vt=A.Ce)(e),mt=(e,r)=>(mt=A.De)(e,r),te=(e,r)=>(te=A.Ee)(e,r),K=()=>(K=A.Fe)(),J=e=>(J=A.Ge)(e),Oe=e=>(Oe=A.He)(e);u.dynCall_ji=(e,r)=>(u.dynCall_ji=A.Ie)(e,r),u.dynCall_jiji=(e,r,t,n,a)=>(u.dynCall_jiji=A.Je)(e,r,t,n,a),u.dynCall_iiiji=(e,r,t,n,a,o)=>(u.dynCall_iiiji=A.Ke)(e,r,t,n,a,o),u.dynCall_jii=(e,r,t)=>(u.dynCall_jii=A.Le)(e,r,t),u._GBAInputInfo=109920,u._binaryName=186992,u._projectName=186996,u._projectVersion=187e3,u._gitCommit=186976,u._gitCommitShort=186980,u._gitBranch=186984,u._gitRevision=186988,u._GBIORegisterNames=49376,u._GBSavestateMagic=64640,u._GBSavestateVersion=64644,u._GBA_LUX_LEVELS=93136,u._GBAVideoObjSizes=138416,u._GBASavestateMagic=138208,u._GBASavestateVersion=138212;function Df(e,r,t,n,a){var o=K();try{return T(e)(r,t,n,a)}catch(s){if(J(o),s!==s+0)throw s;te(1,0)}}function Tf(e,r,t,n){var a=K();try{return T(e)(r,t,n)}catch(o){if(J(a),o!==o+0)throw o;te(1,0)}}function Pf(e,r,t){var n=K();try{T(e)(r,t)}catch(a){if(J(n),a!==a+0)throw a;te(1,0)}}function Mf(e,r,t,n,a){var o=K();try{T(e)(r,t,n,a)}catch(s){if(J(o),s!==s+0)throw s;te(1,0)}}function Rf(e,r){var t=K();try{return T(e)(r)}catch(n){if(J(t),n!==n+0)throw n;te(1,0)}}function Bf(e,r,t,n,a,o,s,l,f,d){var m=K();try{T(e)(r,t,n,a,o,s,l,f,d)}catch(p){if(J(m),p!==p+0)throw p;te(1,0)}}function Gf(e,r,t,n){var a=K();try{T(e)(r,t,n)}catch(o){if(J(a),o!==o+0)throw o;te(1,0)}}function If(e,r,t){var n=K();try{return T(e)(r,t)}catch(a){if(J(n),a!==a+0)throw a;te(1,0)}}function Uf(e,r){var t=K();try{T(e)(r)}catch(n){if(J(t),n!==n+0)throw n;te(1,0)}}function Nf(e,r,t,n,a,o){var s=K();try{T(e)(r,t,n,a,o)}catch(l){if(J(s),l!==l+0)throw l;te(1,0)}}u.cwrap=P,u.addFunction=ut,u.removeFunction=ct,u.FS=i;var ze;we=function e(){ze||gt(),ze||(we=e)};function Of(){var e=dt,r=0,t=0;try{var n=e(r,t);return Ir(n,!0),n}catch(a){return Ze(a)}}function gt(){if(ue>0||(Et(),ue>0))return;function e(){ze||(ze=!0,u.calledRun=!0,!me&&(bt(),wt(),gr(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),_t&&Of(),kt()))}u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),e()},1)):e()}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var _t=!0;return u.noInitialRun&&(_t=!1),gt(),mr.ready}})();export{qf as m};
